



ver２１




<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ミルコーンの恋占いガチャ</title>

    <link rel="apple-touch-icon" href="images/icon2.png?rev=3">
    <link rel="icon" type="image/png" href="images/icon2.png?rev=3">
    
    <meta property="og:image" content="https://bfb54wy8k2-ctrl.github.io/images/icon2.png?rev=3">
    <meta property="og:title" content="ミルコーンの恋占いガチャ">
    <meta property="og:type" content="website">

    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: #d4af37; --pink: #ffb6c1; --bg: #1a1a1a; --font: 'Zen Maru Gothic', sans-serif; }
        
        /* iPhone対策：文字サイズ自動調整防止 */
        html { -webkit-text-size-adjust: 100%; }

        body { 
            background: var(--bg); 
            color: white; 
            font-family: var(--font); 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh; 
            overflow-x: hidden; 
        }
body {
    /* 真っ黒を卒業して、目に優しい深いラベンダーのグラデーションに */
    background: linear-gradient(180deg, #1a1a2e 0%, #302b63 50%, #4b4b7c 100%);
    background-attachment: fixed;
    color: #f0f0f0; /* 文字も真っ白ではなく、少しグレーを混ぜて眩しさを抑える */
}

/* ガチャマシーンに「柔らかい光」を纏わせる（目がチカチカしない程度に） */
#gacha-machine {
    filter: drop-shadow(0 0 15px rgba(255, 192, 203, 0.4));
}
/* すべての要素にフォントを適用 */
* {
    font-family: 'Zen Maru Gothic', sans-serif !important;
}


        /* タイトル・コイン表示 */
       .title { 
    margin-top: 20px; 
    font-size: 1.2rem; /* 少し大きくすると見やすくなります */
    
    /* おすすめ：優しくて可愛い「サクラピンク」 */
    color: #ffb7c5; 
    
    

    text-align: center; 
    font-weight: 700; 
    
    /* 文字を少し浮かせて、背景に馴染ませつつ読みやすくする */
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
        .title img { width: 30px; vertical-align: middle; margin-right: 8px; border-radius: 50%; border: 1px solid var(--gold); }
        #coin-display { margin-top: 15px; background: rgba(212, 175, 55, 0.2); padding: 8px 25px; border-radius: 30px; border: 2px solid var(--gold); color: var(--gold); font-weight: bold; font-size: 1.1rem; }

        /* ホーム画面追加ガイド */
        .app-guide-box { 
            margin-top: 12px; 
            background: rgba(255, 255, 255, 0.05); 
            padding: 10px; 
            border-radius: 15px; 
            width: 85%; 
            max-width: 320px; 
            text-align: center; 
            border: 1px dashed #555;
        }
        .guide-title { font-size: 0.75rem; color: var(--gold); margin-bottom: 8px; font-weight: bold; }
        .guide-row { display: flex; justify-content: space-around; gap: 10px; }
        .guide-item { flex: 1; font-size: 0.65rem; color: #ccc; line-height: 1.3; }
        .guide-icon { font-size: 1rem; display: block; margin-bottom: 3px; }

        /* ガチャ制限・プレミアム案内 */
        #limit-info { margin-top: 15px; text-align: center; color: var(--pink); font-size: 0.85rem; background: rgba(255,182,193,0.1); padding: 15px; border-radius: 15px; width: 85%; max-width: 320px; border: 1px solid rgba(255,182,193,0.2); }
        #countdown { font-family: monospace; font-size: 1.1rem; color: #fff; margin-top: 5px; display: block; }
        #premium-info { display: none; margin-top: 15px; background: linear-gradient(135deg, #4b3a1a 0%, #1a1a1a 100%); border: 2px solid var(--gold); padding: 15px; border-radius: 20px; width: 85%; max-width: 320px; text-align: center; box-shadow: 0 0 15px rgba(212, 175, 55, 0.3); }
        .premium-btn { display: inline-block; margin-top: 10px; padding: 12px 25px; background: var(--gold); color: #000; text-decoration: none; font-weight: bold; border-radius: 25px; font-size: 0.9rem; box-shadow: 0 4px 0 #927821; }

        /* ガチャ本体 */
        #gacha-container { position: relative; width: 300px; height: 350px; margin-top: 10px; }
        #gacha-machine { width: 100%; height: 100%; object-fit: contain; position: relative; z-index: 10; }

        /* カプセル演出 */
        .capsule { position: absolute; bottom: 60px; right: 40px; width: 60px; height: 60px; z-index: 100; display: none; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5)); }
        .capsule-inner { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; }
        .capsule-top { position: absolute; top: 0; width: 100%; height: 50%; border-radius: 30px 30px 0 0; background: linear-gradient(135deg, rgba(255,255,255,0.5) 0%, transparent 50%), var(--cap-color, #333); border: 1px solid rgba(255,255,255,0.3); transition: all 0.5s ease-out; }
        .capsule-bottom { position: absolute; bottom: 0; width: 100%; height: 50%; border-radius: 0 0 30px 30px; background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(2px); border: 1px solid rgba(255,255,255,0.4); transition: all 0.5s ease-out; }

        .pop-out1 { display: block !important; animation: capsule-fly1 1.2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards; }
        .pop-out2 { display: block !important; animation: capsule-fly2 1.2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards; }
        @keyframes capsule-fly1 { 0% { transform: translate(0, 0) scale(0.3) rotate(0deg); } 100% { transform: translate(-130px, -120px) scale(2.2) rotate(720deg); } }
        @keyframes capsule-fly2 { 0% { transform: translate(0, 0) scale(0.3) rotate(0deg); } 100% { transform: translate(-50px, -120px) scale(2.2) rotate(-720deg); } }
        .capsule-split .capsule-top { transform: translateY(-80px) rotate(-40deg); opacity: 0; }
        .capsule-split .capsule-bottom { transform: translateY(80px) rotate(40deg); opacity: 0; }

        /* ガチャボタン */
        .btn { margin-top: 10px; padding: 18px 60px; background: linear-gradient(to bottom, #ffc0cb, #ff69b4); color: white; border: none; border-radius: 50px; font-weight: 700; font-size: 1.1rem; box-shadow: 0 5px 0 #db7093; cursor: pointer; -webkit-appearance: none; }
        .btn:disabled { background: #666; box-shadow: 0 5px 0 #444; cursor: not-allowed; }

        /* 結果画面 */
        /* 1. 結果画面の背景をグラデーションにし、中身を整列させる */
#result-overlay { 
    position: fixed; 
    inset: 0; 
    background: linear-gradient(180deg, #1a1a2e 0%, #302b63 50%, #4b4b7c 100%); 
    display: none; 
    flex-direction: column; 
    align-items: center; 
    justify-content: flex-start; 
    z-index: 400; 
    padding: 20px 10px; 
    overflow-y: auto; 
}

/* 2. カードを強制的に横並びにする（ここが重要！） */
.cards-container { 
    display: flex !important; 
    flex-direction: row !important; 
    gap: 15px; 
    justify-content: center; 
    align-items: center;
    width: 100%;
    margin-top: 20px;
    margin-bottom: 20px; 
}

/* 3. カードの大きさを整える */
.card-reveal { 
    width: 120px; 
    aspect-ratio: 2/3.5; 
    border: 2px solid var(--gold); 
    border-radius: 10px; 
    overflow: hidden; 
    background: black; 
    transform: scale(0); 
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    flex-shrink: 0; 
}
        .card-reveal { width: 120px; aspect-ratio: 2/3.5; border: 2px solid var(--gold); border-radius: 10px; overflow: hidden; background: black; transform: scale(0); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .card-reveal.active { transform: scale(1); }
        .card-reveal img { width: 100%; height: 100%; object-fit: cover; }
        #detail { width: 90%; max-width: 350px; background: #fefcf0; color: #333; padding: 20px; border-radius: 20px; text-align: left; opacity: 0; box-sizing: border-box; margin-bottom: 30px; position: relative; }
        #detail.active { opacity: 1; transition: opacity 0.5s; }
        #miruko-msg { font-size: 0.85rem; line-height: 1.6; min-height: 100px; white-space: pre-wrap; }
        .miruko-status { color: #d44d7c; font-weight: bold; margin-bottom: 10px; display: block; border-bottom: 1px dashed #ffb6c1; padding-bottom: 5px; }

        /* 音量・図鑑ボタン */
        #music-toggle { position: fixed; left: 20px; top: 50px; width: 45px; height: 45px; background: rgba(212, 175, 55, 0.9); border: 2px solid white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; z-index: 500; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        #collection-btn { position: fixed; right: 20px; bottom: 20px; width: 60px; height: 60px; background: linear-gradient(135deg, var(--gold), #927821); border: 2px solid white; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 1.5rem; cursor: pointer; z-index: 500; box-shadow: 0 4px 15px rgba(0,0,0,0.5); animation: fuwafuwa 3s ease-in-out infinite; }
        #collection-btn span { font-size: 0.6rem; font-weight: bold; color: white; margin-top: -2px; }

        /* 図鑑画面 */
        #collection-overlay { 
    position: fixed; 
    inset: 0; 
    background: linear-gradient(180deg, #1a1a2e 0%, #302b63 50%, #4b4b7c 100%); /* ここを変更 */
    z-index: 1000; 
    display: none; 
    flex-direction: column; 
    padding: 20px; 
    overflow-y: auto; 
}
        .collection-nav { 
            display: grid;
            grid-template-columns: repeat(2, 1fr); 
            gap: 10px; 
            margin: 20px 0;
            width: 100%;
        }
        .nav-btn { 
            -webkit-appearance: none;
            appearance: none;
            padding: 12px 5px; 
            background: #2a2a2a; 
            color: #fff !important; 
            border: 1px solid var(--gold); 
            border-radius: 12px; 
            font-size: 0.85rem; 
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 48px; 
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }
        .nav-btn.active { background: var(--gold); color: black !important; border-color: #fff; }
        .nav-btn:first-child { grid-column: span 2; } 

        .collection-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding-bottom: 40px; }
        .collection-item { aspect-ratio: 2/3.5; background: #333; border-radius: 5px; border: 1px solid var(--gold); overflow: hidden; position: relative; }
        .collection-item img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.2) grayscale(1); }
        .collection-item.unlocked img { filter: brightness(1) grayscale(0); }

        /* カード3D表示の裏面対応修正 */
        #card-3d-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000; display: none; align-items: center; justify-content: center; perspective: 1200px; touch-action: none; }
        #card-3d-container { width: 250px; aspect-ratio: 2/3.5; position: relative; transform-style: preserve-3d; transition: transform 0.1s linear; }
        .card-face { position: absolute; inset: 0; backface-visibility: hidden; border: 4px solid var(--gold); border-radius: 15px; overflow: hidden; }
        .card-front { transform: rotateY(0deg); }
        .card-back { transform: rotateY(180deg); }
        .card-face img { width: 100%; height: 100%; object-fit: cover; }

        @keyframes fuwafuwa { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        @keyframes shake { 0%, 100% { transform: rotate(0); } 50% { transform: rotate(-3deg); } }

        /* --- 追加分 --- */
        .comp-area {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 15px;
            margin: 10px 0;
            text-align: center;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
/* 扉を開くボタン：ゆめかわレインボー版 */
#door-btn {
    /* サイズ設定 */
    width: 200px; 
    height: 45px; 
    font-size: 0.9rem; 

    margin: 20px auto;
    border: none;
    border-radius: 25px;
    font-weight: bold;
    color: white;
    cursor: not-allowed;
    opacity: 0.3;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.5s;

    /* 背景をパステルレインボーにする（未達成時も薄く色がつく設定） */
    background: linear-gradient(120deg, #ffb7c5, #ffdab9, #e0ffff, #b19cd9, #ffb7c5);
    background-size: 400% 400%;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    text-shadow: 0 1px 3px rgba(0,0,0,0.2);
} /* ←ここのカッコがズレていたのを直しました */

/* コンプリートした時だけ動き出す設定 */
#door-btn.active {
    opacity: 1 !important;
    cursor: pointer !important;
    /* 10秒かけてゆっくり色が流れる */
    animation: gentleRainbow 10s ease infinite !important;
    box-shadow: 0 0 20px rgba(255, 183, 197, 0.5) !important;
}

/* ゆっくり流れるアニメーションの魔法 */
@keyframes gentleRainbow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
        #secret-modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 3000;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
        }
/* レインボー文字の魔法 */
.rainbow-text {
    background: linear-gradient(to right, #ff7eb3, #ff758c, #ff7eb3, #eec1ff, #a2d2ff, #b19cd9);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    display: inline-block;
    font-weight: bold;
    font-size: 1.5rem; /* サイズを少し大きく */
    filter: drop-shadow(0 0 5px rgba(255,255,255,0.5));
}
    </style>
</head>
<body>

    <div id="music-toggle" onclick="toggleMusic()">🔇</div>

    <div id="collection-btn" onclick="openCollection()">
        📖<span>ずかん</span>
    </div>

    <div class="title">ミルコーンの恋占いガチャ</div>
    
    
    </div>

    <div id="coin-display">ミルコイン: <span id="coin-count">0</span> 枚</div>

    <div id="limit-info">
        <span id="limit-text"></span>
        <div id="timer-container" style="display:none; margin-top:10px;">
            次の無料分まで：あと <span id="countdown">--時間--分--秒</span>
        </div>
    </div>

    <div id="premium-info">
    <div style="font-size: 0.9rem; color: var(--gold);">✨ ミルコインを増やす✨</div>
    <p style="font-size: 0.8rem; line-height: 1.4; margin: 10px 0;">ミルコインを手に入れると、明日を待たずに<b>すぐにガチャ</b>できるよ</p>
    
    <div style="display: flex; gap: 10px; justify-content: center;">
        <a href="https://mirucorn.stores.jp/items/6961b5431886ebdd3baee58d" class="premium-btn">ミルコインを買う💎</a>
        <button onclick="showSecretCodeInput()" class="premium-btn" style="background: #5c4b8a; border: none; cursor: pointer;">秘密のコード🔑</button>
    </div>

    <div id="secret-code-area" style="display: none; margin-top: 15px;">
        <input type="text" id="secret-code-input" placeholder="コードを入力してね" style="padding: 8px; border-radius: 5px; border: 1px solid var(--gold); width: 140px;">
        <button onclick="useSecretCode()" style="padding: 8px 15px; background: var(--gold); border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">送信</button>
    </div>
</div>

    <div id="gacha-container">
        <img src="images/gacha.png" id="gacha-machine">
        <div id="capsule1" class="capsule"><div class="capsule-inner"><div class="capsule-top"></div><div class="capsule-bottom"></div></div></div>
        <div id="capsule2" class="capsule"><div class="capsule-inner"><div class="capsule-top"></div><div class="capsule-bottom"></div></div></div>
    </div>

    <button class="btn" id="play-btn" onclick="playGacha()">ガチャを回す</button>

    <div id="result-overlay">
        <div class="cards-container">
            <div class="card-reveal" id="card-box1"></div>
            <div class="card-reveal" id="card-box2"></div>
        </div>
        <div id="detail">
            <span class="miruko-status" id="miruko-status">ミルコが占い中…🦄✨</span>
            <div id="miruko-msg"></div>
            <button id="close-res-btn" onclick="closeResult()" style="width:100%; margin-top:20px; background:#ff69b4; color:white; border:none; padding:12px; border-radius:15px; font-weight:bold; cursor:pointer; display:none;">ありがとう！</button>
        </div>
    </div>

    <div id="collection-overlay">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2 style="color:var(--gold); font-size:1.1rem; margin:0;">📖ミルコレクション</h2>
            <div id="collection-count" style="font-size:0.8rem; color:var(--gold);">0/79 登録済み</div>
            <button onclick="closeCollection()" style="background:none; border:1px solid var(--gold); color:var(--gold); padding:5px 15px; border-radius:15px;">閉じる</button>
        </div>

        <div class="comp-area">
            <div style="font-size:0.75rem;">全てコンプリートしたら魔法の扉が開くよ✨</br>中に入ったら長押しして宝物をゲットしてね</div>
            <button id="door-btn" class="door-btn" onclick="openSecret()">扉を開く</button>
        </div>
<div class="backup-section" style="margin-top: 30px; padding: 15px; border-top: 1px dashed #555; text-align: center;">
    <p style="font-size: 0.8rem; color: #ffca28;">🦄【ミルコレを保存する(引き継ぎ設定)】<br>万が一の時も安心！こまめにセーブしておこう✨</p>
    <div style="display: flex; justify-content: center; gap: 10px; margin-top: 10px;">
        <button onclick="exportData()" style="padding: 8px 12px; background: #5c4b8a; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.75rem;">
            合言葉を発行
        </button>
        <button onclick="importData()" style="padding: 8px 12px; background: #4b8a5c; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.75rem;">
            合言葉を入力
        </button>
    </div>
</div>

        <div class="collection-nav">
            <button class="nav-btn active" onclick="filterCollection('all', this)">全部</button>
            <button class="nav-btn" onclick="filterCollection('major', this)">大アルカナ</button>
            <button class="nav-btn" onclick="filterCollection('wands', this)">ワンド</button>
            <button class="nav-btn" onclick="filterCollection('cups', this)">カップ</button>
            <button class="nav-btn" onclick="filterCollection('swords', this)">ソード</button>
            <button class="nav-btn" onclick="filterCollection('pentacles', this)">ペンタクル</button>
            <button class="nav-btn" onclick="filterCollection('secret', this)">シークレット</button>
        </div>
        <div class="collection-grid" id="collection-grid"></div>
    </div>

    <div id="card-3d-overlay" onclick="close3D()">
        <div id="card-3d-container" onclick="event.stopPropagation()">
            <div class="card-face card-front"><img id="card-3d-img" src=""></div>
            <div class="card-face card-back"><img src="images/back.png"></div>
        </div>
        <p style="position:absolute; bottom:50px; color:white; font-size:0.8rem;">指でくるくる回せるよ！カード以外を押すと戻るよ</p>
    </div>

    <div id="secret-modal" onclick="this.style.display='none'">
        <div style="color:var(--gold); font-weight:bold; margin-bottom:15px;">🎉コンプリートおめでとう！🎉</div>
        <img src="images/secret.png" style="width:100%; max-width:400px; border-radius:20px; box-shadow: 0 0 30px var(--gold);">
        <p style="color:white; font-size:0.8rem; margin-top:20px; text-align:center;">画像を長押しして<br>待ち受けをダウンロードしてね🦄✨</p>
        <button style="margin-top:20px; background:none; border:1px solid white; color:white; padding:10px 30px; border-radius:20px;">閉じる</button>
    </div>

    <audio id="bgm" loop preload="auto">
        <source src="sounds/bgm.mp3" type="audio/mpeg">
    </audio>


    <script>
        const loveAdvices = [
            "🦄「まずは自分をたっぷり甘やかして。あなたが心から笑ってご機嫌なら、恋の運気も磁石みたいに幸せを引き寄せてくれるよ✨」",
            "💖「深呼吸してみて。そのドキドキは不安じゃなくて、未来のあなたが『もうすぐ幸せが来るよ！』って教えてくれてる合図なんだよ。」",
            "💎「あなたは世界にたった一つのダイヤモンド。誰かと比べて曇らせないで。そのままのあなたで十分すぎるほど輝いているんだから✨」",
            "🍬「恋は甘いだけじゃないけど、時々の苦さも素敵な隠し味。全部ひっくるめて、あなただけの特別な物語を楽しんじゃおう！」",
            "💌「想いを言葉にするのが恥ずかしい時は、鏡の中の自分に伝えてみて。自分を愛する魔法が宿って、本番でも自然に笑顔になれるよ🪄」",
            "🌙「夜更かしして一人で悩みすぎちゃダメ。枕元に不安を置いたら早く寝て、夢の中でミルコと一緒に明日の作戦会議をしようね🦄」",
            "🌸「ゆっくり、ゆっくりで大丈夫。蕾が花開くタイミングは人それぞれ。あなたの花が一番綺麗に咲く瞬間を、運命はちゃんと待ってるよ。」",
            "🎈「心にある重たい不安は、風船にして空に飛ばしちゃえ！心をふわっと軽くしておけば、新しい恋のチャンスも舞い込みやすくなるよ。」",
            "🧸「自分を一番の親友だと思って愛してあげて。あなたがあなた自身に恋をすれば、世界中があなたの味方になって動き出すんだよ✨」",
            "🍀「小さな『嬉しい』を見つける名人になろう。幸せは、自分の存在に気づいて喜んでくれる人のところに、もっと仲間を連れて集まるよ。」",
            "🎠「恋は楽しんだもん勝ち！遊園地の乗り物を選ぶときみたいに、理屈じゃなくて心がワクワクする方へ、迷わず進んでみて🌈」",
            "🐚「相手の顔色をうかがって自分を消さないで。あなたの心の声を一番大切にできるのはあなただけ。素直なあなたが一番魅力的だよ。」",
            "🕯️「心がざわざわする夜は、お気に入りの香りに包まれて。優しい気持ちがオーラになって、素敵な縁を自然と呼び寄せてくれるから。」",
            "✨「今のあなたは、誰にも真似できない特別な存在。誰かの正解に合わせなくていいんだよ。あなたの『好き』を誇りに思ってね！」",
            "🦄「ミルコは知ってるよ。あなたがどれだけ健気に頑張ってきたか。たまには肩の力を抜いて、宇宙の流れに身を任せてもいいんだよ💖」",
            "🍃「過去の失敗は、今のあなたがもっと美しく咲くための大切な肥料。もう自分を責めなくて大丈夫。前だけ向いて歩いていこう！」",
            "🍹「恋の温度を上げすぎて焦らないで。少し涼しいくらいの心の余裕がある方が、不思議と相手はあなたのことが気になっちゃうものだよ。」",
            "🏹「勇気が出なくて足が止まった時は、ミルコが後ろから背中をポンって押してあげる！大丈夫、素晴らしい未来が待ってるよ✨」",
            "☀️「朝起きたら太陽に向かって大きく背伸びしてみて。真っ直ぐで嘘のない想いは、光の速さで大切な人の心へ届いていくから。」",
            "💍「最高の幸せを天国に予約しといたよ！あとは、あなたが笑顔で受け取る心の準備をするだけ。もうすぐ素敵な荷物が届くからね🦄💎」",
            "🕊️「『ごめんね』より『ありがとう』をたくさん伝えてみて。感謝の言葉は魔法の粉。二人の関係をキラキラ輝かせる最高のお守りだよ。」",
            "🍓「恋はイチゴパフェみたいに、一番おいしいところを最後に残さなくていいんだよ。今この瞬間のときめきを全力で味わいつくそう！」",
            "☕️「一息ついて温かい飲み物を飲んで。心が温まると、トゲトゲしてた気持ちが丸くなって、愛する余裕が心に生まれてくるよ。」",
            "👗「今日は一番お気に入りの服を着て出かけよう。自分が自分を『可愛い！』って思える魔法が、あなたの恋の勝率をグンと上げてくれるよ。」",
            "❄️「たとえ今は冷たい冬のように感じても、土の下では春の準備が進んでる。今の努力は、必ず色鮮やかな花として実を結ぶからね。」",
            "🔑「答えが見つからない時は、考えるのをやめて遊んじゃおう！リラックスした瞬間に、運命の扉を開ける鍵がポロッと見つかるかも🗝️」",
            "🌊「相手の気持ちは海の波みたいなもの。引き潮の時に追いかけすぎないで。砂浜で貝殻を拾うように自分の時間を楽しめば、また波は戻るよ。」",
            "👒「『私なんて』って言わないで。あなたは宇宙が大切に作った傑作なんだよ。もっと胸を張って、ヒロインの座を楽しんでいいんだから！」",
            "🍯「心にハチミツをひとさじ。甘くて優しい言葉を自分にかけてあげて。自分に優しい人は、人からも優しく愛されるようになっているよ。」",
            "🌌「星が暗い夜ほど輝くように、苦しい時こそあなたの魂は磨かれているよ。夜明けはもうすぐ。とびきり明るい太陽が昇るよ！」",
            "🧚「あなたの笑顔は、周りの人を幸せにする魔法のエッセンス。恋を成就させる一番の近道は、あなたが心から楽しそうに笑っていることだよ。」",
            "🎻「二人のリズムが合わない時は、無理に合わせなくていいよ。それぞれの音色を大切にしていれば、いつか最高に美しい合奏が始まるから。」",
            "🌻「太陽を追いかけるひまわりみたいに、あなたの『好き』という直感を信じて。そのポジティブなエネルギーが運命を切り拓いていくよ。」",
            "🍫「恋に疲れたら、甘いチョコを食べて一休み。自分を追い詰めないで。ミルコが隣にいてあげるから、ゆっくり元気を取り戻そうね。」",
            "🛤️「道は一つじゃないよ。行き止まりに見えても、横を見れば新しい小道がある。柔軟な心が、思わぬショートカットを見つけてくれるよ。」",
            "🛁「今日あった嫌なことは、お風呂のシャワーで全部流しちゃおう。まっさらな心に戻れば、明日はもっと素敵な愛を受け取れるはず。」",
            "🍎「完璧な人を目指さなくていいんだよ。少し抜けているところや、あなたの弱さこそが、相手にとっての『守ってあげたい』魅力になるから。」",
            "🎈「無理して大人にならなくていいよ。子供みたいに純粋にワクワクする気持ちが、奇跡を起こす一番強力なエネルギーなんだから！」",
            "📖「あなたの人生という物語の作者はあなた自身。悲劇のヒロインで終わらせないで。ハッピーエンドに向けて、自由にページを書き換えて！」",
            "🕯️「誰かのために自分を削って燃え尽きないで。まずは自分の心の灯を絶やさないこと。あなたが輝いていれば、相手もその光に集まってくるよ。」",
            "🥧「愛はパイみたいに、分け合えば分け合うほど幸せの味が増していくよ。見返りを求めない小さな親切が、大きな愛になって返ってくるから。」",
            "💎「欠点だと思っているところは、実は光の当たり方が違うだけの個性だよ。角度を変えれば、それはあなただけの武器になるんだから✨」",
            "🌤️「雲の向こうには、いつも変わらず青空が広がっているよ。今見えている不安に惑わされないで。その先にある明るい未来を信じていてね。」",
            "🦢「水面下でもがいていても、周りからは優雅に見えるもの。あなたは十分頑張ってる。ミルコだけは、あなたの足跡を全部見てるからね💖」",
            "🚲「恋の進展が遅くても焦らないで。ゆっくり景色を楽しみながら進む方が、二人の思い出はより深く、色鮮やかに刻まれていくんだよ。」",
            "🧶「心の糸が絡まった時は、無理に引っ張らないで。時間をかけて優しく解きほぐせば、前よりもっと丈夫で温かい絆が結べるようになるよ。」",
            "🌳「大きな木みたいに、どっしりと構えていて。あなたが自分を信じて根を張っていれば、どんな嵐が来ても二人の関係は揺るがないから。」",
            "🎡「運命の観覧車は回り続けているよ。今がどん底でも、必ずまた一番高い場所まで上がれる。その景色を一緒に見に行こうね、約束だよ！」",
            "🧸「寂しい時は自分の胸に手を当ててみて。あなたは決して一人じゃない。ミルコも、守護天使たちも、みんなであなたの恋を応援してるよ。」",
            "💍「最後に決めるのはあなたの心。どんな結末になっても、あなたが選んだ道が『正解』だよ。自信を持って、愛の世界へ踏み出してね🦄✨」",
            "🌈「雨が降らなきゃ、虹は見られない。今の涙は、あなたの未来を七色に輝かせるための大切な準備なんだよ。」",
            "🎈「執着を手放すと、本当に必要なものが向こうから飛び込んでくる。両手を空けて、幸せを捕まえる準備をしてね。」",
            "🧁「自分へのご褒美を忘れないで。小さなケーキ一つでもいい、自分を喜ばせる天才になれば、恋ももっと楽しくなるよ！」",
            "🔍「相手の悪いところじゃなく、良いところを探すメガネをかけてみて。世界が急に優しく見え始める魔法だよ✨」",
            "🎻「あなたはあなたの人生の主役。誰かの脇役を演じる必要なんてないんだよ。堂々とスポットライトを浴びて！」",
            "🕰️「焦らなくて大丈夫。運命の時計は、あなたにとって一番完璧なタイミングで針を動かしてくれるから。」",
            "🍀「四つ葉のクローバーを探すみたいに、日常の小さなラッキーを数えてみて。数えるほどに、大きな幸せが引き寄せられるよ。」",
            "🛁「夜、お風呂の中で今日頑張った自分を褒めてあげて。自分の体をいたわることが、一番の開運アクションなんだよ。」",
            "🍬「言葉は心のアメ玉。自分にも相手にも、甘くて優しい言葉をプレゼントしてみて。関係がとろけるように良くなるよ。」",
            "🏔️「高い山ほど、登りきった時の景色は最高だよ。今の試練は、あなたが素晴らしい景色を見るためのプロセスなんだね。」",
            "🕯️「暗闇の中でこそ、あなたの優しさは光り輝く。どんな時も、その心の灯火を消さないでいてね。」",
            "🐚「心の貝殻に閉じこもらないで。たまには外の空気を吸いに行こう。新しい出会いは、動いた先で待っているものだよ。」",
            "👗「なりたい自分をイメージして服を選んでみて。未来の自分を先取りすることで、運命の歯車が回り出すんだよ！」",
            "🏹「恋の矢を放つ時は、真っ直ぐ自分を信じて。迷いがないほど、あなたの想いは相手の核心に届きやすくなるから。」",
            "☀️「朝一番に鏡に向かって『大好き！』って言ってみて。自分に恋をすることが、最高の自分磨きになるんだよ🦄」",
            "💎「傷ついた経験は、あなたの魂を磨く砥石（といし）だよ。磨かれた分だけ、あなたは眩しいほどの光を放つようになるんだ。」",
            "💌「返信が来ない時は、スマホを置いて自分時間を楽しもう。あなたが執着を忘れた頃に、ひょっこり連絡が来るものだよ。」",
            "🌙「月の光みたいに、静かに見守る愛も素敵。焦って答えを出そうとしなくていい、静かな時間も愛の一部だよ。」",
            "🕊️「平和な心でいれば、争いごとは自然と遠ざかる。まずはあなたの心を穏やかな泉のように保ってあげてね。」",
            "🍒「恋は二人で育てるもの。片方だけが頑張りすぎないで。お互いに支え合える、ちょうどいいバランスを見つけようね。」",
            "🎠「人生という遊園地を全力で楽しんで！あなたがキャッキャと楽しんでいれば、隣に座りたい人が現れるはずだよ🌈」",
            "🍃「風の向くまま、気の向くままに歩いてみて。計画通りにいかない時ほど、面白い発見や出会いが転がっているから。」",
            "🍹「心の水分補給を忘れずに。素敵な本を読んだり、音楽を聴いたりして、感受性を豊かに保つことが恋の栄養になるよ。」",
            "🎀「縁結びの神様は、あなたの笑顔が大好きなんだ。笑う門には福来る。あなたの笑顔が最強の縁結びのお守りだよ✨」",
            "🐚「本当の気持ちは、静かな海の底に沈んでいる。ざわつきを鎮めて、自分の本音をじっくり聴いてあげようね。」",
            "👒「たまには知らない場所へ出かけてみて。新しい景色が、あなたの凝り固まった悩みをすーっと溶かしてくれるから。」",
            "🧣「寒い夜は自分を暖かく包み込んで。心の冷えは万病の元。ぬくもりを感じることで、愛を受け取る力が復活するよ。」",
            "🏰「あなたの心には素敵な王国がある。自分を女王様のように大切に扱えば、ふさわしい騎士（ナイト）が現れるよ👑」",
            "🛤️「レールを外れても大丈夫。そこにはあなただけの道が広がっている。誰の真似もしない、あなただけの恋をしよう。」",
            "🍯「トゲのある言葉は、ハチミツに漬けて飲み込んじゃおう。優しい言葉だけを口にする習慣が、あなたを美人にするよ✨」",
            "🍫「ビターな経験も、いつか甘い思い出に変わる。無駄なことは一つもない。すべてはハッピーエンドへの伏線なんだよ。」",
            "🎨「人生のキャンバスを、好きな色で塗りつぶして！あなたが描きたい未来を自由に描けば、それが現実になっていくんだ。」",
            "🎻「緊張して震えてもいいんだよ。その震えは、あなたが一生懸命に生きている証拠。その不器用さが愛おしいんだから。」",
            "🌻「太陽を見上げることを忘れないで。うつむいていたら、せっかくのチャンスに気づけない。前を向いて歩こうね！」",
            "🗝️「幸せの鍵は、いつもあなたのポケットの中にある。外に探しに行かなくていい、自分が持っているものに気づくだけだよ。」",
            "🧸「誰かのために自分を犠牲にしないで。あなたが幸せでいることが、結果的に周りの人も幸せにするんだから。」",
            "🌠「願いごとは、叶った時の気持ちを先取りして感じてみて。ワクワクするエネルギーが、現実をぐいぐい引き寄せてくれるよ！」",
            "🕯️「一歩先が見えなくても、足元を照らせば十分。少しずつ進んでいけば、いつの間にか目的地に着いているものだよ。」",
            "🧳「心の荷物を整理しよう。もういらない後悔は捨てて、軽やかになれば、もっと遠くまで幸せを探しに行けるよ。」",
            "🥧「愛は焼き立てのパイのように、温かいうちに伝えて。素直な『好き』の気持ちに、旬を逃させないでね🥧✨」",
            "💎「あなたの瞳は、希望を見るためにある。暗いニュースや不安ばかり見ないで、美しいものに焦点を合わせてね。」",
            "🌤️「曇り空の上には、必ず太陽がいる。見えない時でも、あなたは守られ、愛されていることを忘れないで。」",
            "🦢「自分を低く見積もらないで。あなたは白鳥。今はまだ気づいていないだけかもしれないけど、羽ばたく力は持っているよ。」",
            "🚲「立ち止まっても、また漕ぎ出せばいい。恋の進み方はあなた次第。マイペースが一番の成功法則なんだよ。」",
            "🧶「赤い糸は、時に複雑に絡まることもある。でも、切れていないから大丈夫。ゆっくり丁寧に解いていけばいいんだよ。」",
            "🌳「自分の中に一本の芯を持って。周りの意見に振り回されず、あなたの『心地よさ』を基準に選択してね。」",
            "🎡「巡り合わせは不思議なもの。今会えない人とは、時期が違うだけ。再会する時は、もっと成長した二人で会えるよ。」",
            "🧸「抱きしめてほしい時は、自分で自分をハグして。セルフラブのエネルギーが、究極の癒やしを連れてきてくれるから。」",
            "💍「あなたは愛される価値がある。条件なんていらない、ただそこにいるだけで、あなたは愛されるべき存在なんだよ🦄💖」",
            "✨「さあ、顔を上げて！ミルコと一緒に、新しい奇跡を探しに行こう。あなたの恋の物語は、まだ始まったばかりだよ！」",
"🌊「泣きたい時は、海の底にいるみたいに静かに泣いてもいいんだよ。涙は心の毒を流してくれる、あなただけの浄化の魔法なんだから。」",
            "❄️「届かなかった想いも、消えてなくなったわけじゃないよ。それはキラキラした雪の結晶になって、あなたの心の中に大切に積もっているんだ。」",
            "🥀「枯れてしまった恋の花を、無理に咲かせようとしなくていい。今はただ、その痛みを抱きしめて、頑張った自分を労わってあげよう。」",
            "🌙「夜の暗闇が怖いのは、あなたが光を求めている証拠。大丈夫、暗い夜ほど、小さな星の輝きに気づけるようになるんだよ。」",
            "💌「下書きのまま消したメッセージ。伝えられなかった言葉たち。ミルコが全部受け取って、空の向こうへ届けておくね。」",
            "🎻「心がバラバラに割れてしまった時は、無理に繋ぎ合わせなくていいよ。その破片一つひとつが、いつか誰かを癒やす光になるから。」",
            "☔️「雨の日は、空があなたの代わりに泣いてくれているんだ。傘をさして、じっとしていよう。雨が上がれば、景色は前より綺麗に見えるよ。」",
            "🐚「大好きだったあの人の声が、まだ耳に残っているね。それはあなたがそれだけ深く、誰かを愛せたという誇らしい勲章なんだよ。」",
            "🕯️「思い出を消そうとしなくていいよ。無理に忘れようとするほど、心はチクチク痛むもの。いつか笑って話せる日が来るまで、大切にしまっておこう。」",
            "🦋「サナギが蝶になる時、一度中身はドロドロに溶けるんだって。今のあなたの苦しみは、新しく美しく生まれ変わるための、大切な変化の時なんだよ。」",
            "🌌「運命の糸がプツリと切れてしまったように感じても、あなたの人生は終わらない。その糸で、次はもっと強い絆を編めるようになるから。」",
            "🧸「独りぼっちだと思わないで。あなたが泣いている時、ミルコも隣で一緒に泣いているよ。あなたは決して、一人きりじゃないんだから。」",
            "🍂「散っていく葉っぱを止めることはできないけれど、木はまた新しい芽を出す準備を始める。今はただ、静かに眠る時間が必要なだけ。」",
            "🌫️「霧の中にいるみたいに先が見えなくても、一歩ずつ進めば必ず道は開ける。あなたの足跡は、後ろにちゃんと残っているよ。」",
            "🍎「真っ赤なリンゴも、傷があるから甘くなることがある。あなたの心の傷も、あなたをより深く、魅力的な人にしてくれるエッセンスなんだよ。」",
            "🎠「止まらないメリーゴーランドみたいに同じ悩みでぐるぐるしちゃうよね。でも、少しずつ景色は変わっている。あなたは確実に前へ進んでいるよ。」",
            "⚓️「重たい錨を上げたまま、どこへ行けばいいか分からなくなっちゃったね。風が吹くのを待とう。必ず、あなたを運ぶ優しい風が吹くから。」",
            "📦「片付けられない思い出の品は、無理に捨てなくていい。心の奥の、普段は見えない引き出しに、そっと隠しておくだけでいいんだよ。」",
            "💭「もしもあの時…なんて考えちゃう夜もあるよね。でも、その時のあなたはそれが精一杯だった。自分を責めるのは、もうおしまい。」",
            "💧「一粒の涙には、言葉にできない何万もの想いが詰まっている。ミルコがその涙をダイヤモンドに変えて、未来のあなたに届けてあげるね。」",
            "🦢「泥の中を泳いでいるみたいに苦しくても、あなたは白鳥の美しさを失っていない。今は羽を休めて、水面の静けさを待とう。」",
            "🧶「ほどけてしまった約束。でも、その糸はまだあなたの指先に繋がっている。新しい縁をたぐり寄せるための、大切な導き糸になるよ。」",
            "🍇「酸っぱい経験も、時間をかければ芳醇なワインになる。今の苦い気持ちが、数年後のあなたを最高に輝かせるスパイスになるんだ。」",
            "🛤️「見送った列車の後ろ姿をいつまでも見ていたいよね。でも、次の駅には、あなたを待っている新しい物語がもう用意されているんだよ。」",
            "🌑「新月の夜は、何も見えなくて不安になる。でもそれは、これから満ちていくための始まりの合図。光はもう、すぐそばにあるよ。」",
            "🪞「鏡を見て、泣きはらした自分の顔を優しく撫でてあげて。その顔は、誰よりも一生懸命に人を愛した、美しい人の顔なんだよ。」",
            "🥛「こぼれてしまったミルクを嘆いても戻らないけれど、新しいグラスに注ぐことはできる。あなたの愛を、次は誰に注いであげようか。」",
            "🏜️「砂漠の中で出口を探しているみたいだね。でも、足元の砂の下には、冷たくて優しいオアシスが隠されていることを忘れないで。」",
            "🎻「切ないメロディほど、人の心に深く刻まれるもの。あなたの今の切なさは、いつか誰かの心を救う、優しい歌になるよ。」",
            "🎐「風が吹くたびに揺れる、あなたの頼りない心。でも、揺れるのはあなたが柔らかいから。折れない強さが、そこにはあるんだよ。」",
            "🌬️「冷たい風にさらされて、心がカサカサになっちゃったね。ミルコが魔法のクリームで、あなたの心をふっくら温めてあげる🦄💖」",
            "🧺「溜まりに溜まった悲しみは、洗濯物みたいに太陽の下で乾かそう。時間はかかるかもしれないけれど、いつかは真っ白でふわふわに戻るから。」",
            "📻「ノイズばかりで相手の気持ちが聞こえない時は、一度電源を切ってみよう。静寂の中でこそ、本当に大切な声が聞こえてくるはずだよ。」",
            "🍓「一番甘いイチゴも、雨風に耐えて育つんだよ。あなたの今の痛みは、とびきり甘い幸せを手にするための、大切な試練なんだね。」",
            "🐾「追いかけても追いつけない背中。でも、あなたの足跡は確実に大地を捉えている。あなたは独りで立って、歩けるようになっているんだ。」",
            "🧱「心の壁を高く積み上げすぎちゃったかな。でも、その壁には小さな隙間がある。そこから優しい光が差し込むのを、じっと待ってみて。」",
            "🌅「夕日が沈む時は切ないけれど、それは美しい朝を迎えるための約束。今日の悲しみも、明日の希望と交換するために必要なんだよ。」",
            "🗝️「閉じ込めた感情が、胸の奥で暴れているね。鍵を開けて、全部外に出してあげよう。ミルコが全部聞いてあげるから、大丈夫。」",
            "🛁「お風呂の泡と一緒に、消えてしまいたいと思う夜もあるよね。でも、泡が消えた後には、さっぱりと綺麗なあなたが残るんだよ。」",
            "🔭「遠くの幸せばかり見ていると、足元の小さな愛に気づけない。レンズを一度外してみて。あなたはもう、愛の中にいるんだよ。」",
            "🎡「頂上にいる時は楽しかったけれど、降りていく時は寂しいね。でも、観覧車はまた回る。必ずまた、あの景色を見に行けるよ。」",
            "🎐「チリンと鳴るたびに、胸が締め付けられる思い出。でもその音は、あなたが今もなお、純粋な心を持っている証拠なんだよ。」",
            "🦢「孤独という名の湖を、一人で泳いでいるあなたへ。ミルコも反対側から泳いでいくよ。湖の真ん中で、一緒に月を見ようね。」",
            "🥀「散った花びらは土に帰り、次のはなを育てる力になる。終わってしまった恋も、あなたのこれからの人生を支える力に変わるよ。」",
            "🧵「途中で切れてしまった赤い糸。でも、あなたは新しい糸を結び直す魔法を持っている。次はもっと、解けない結び方にしよう。」",
            "🕰️「止まってしまった時計を、無理に動かそうとしないで。あなたの心が動き出すその時まで、時間は止まったままでもいいんだよ。」",
            "🧊「凍りついた心は、無理に叩くと割れてしまう。ゆっくり、じわじわと、ミルコの体温で溶かしていこう。春はすぐそこだよ。」",
            "🌠「流れ星に願いをかける暇もなかったね。でも、星はあなたの心の中にある。願うのをやめなければ、奇跡は必ず起きるんだから。」",
            "🧸「使い古されたぬいぐるみみたいに、ボロボロになった心。でも、それが一番愛されている証拠。ミルコはそんなあなたが大好きだよ。」",
            "💍「いつか必ず、この涙に感謝できる日が来る。あの時の悲しみがあったから、今の最高の幸せがあるんだって、笑って言える日が来るよ。🦄✨」",
"🔥「何があっても大丈夫！だってミルコがついているんだよ？あなたは最強で最高、宇宙一可愛いヒロインなんだから！胸を張って！」",
            "🚀「迷ってる暇があるなら、ワクワクする方に飛び込んじゃえ！失敗なんてただの経験値。今のあなたなら、どこまでも高く飛べるよ！」",
            "⚡️「運命なんて自分で書き換えるもの。周りの声なんてスルーして、あなたのやりたいように暴れちゃいなよ！ミルコが全力で肯定してあげる！」",
            "🏆「おめでとう！このメッセージを引いた時点で、あなたの今日の運勢は『爆勝ち』確定だよ。何をやってもうまくいくから、自信満々でGO！」",
            "📣「フレッ！フレッ！あなた！世界で一番頑張っているあなたのことを、ミルコは24時間体制で応援してるからね！フレー！！」",
            "🌈「奇跡は待つものじゃなくて、自分で起こすもの。あなたのそのポジティブなエネルギーが、世界を塗り替える魔法になるんだよ✨」",
            "💎「誰が何と言おうと、あなたは唯一無二の天才！あなたの代わりなんてどこにもいないんだから、自分らしく突き進んじゃえ！」",
            "🥊「不安なんてパンチでぶっ飛ばしちゃえ！あなたはあなたが思うより100倍強い。今日から新しい伝説を始めようよ！」",
            "🌟「主役の登場だよ！さあ、世界中をあなたの笑顔で照らしてあげて。みんな、あなたの輝きを待っているんだから！」",
            "👑「自分を過小評価するのはもう終わり！あなたは王冠をかぶるべき人。堂々と、一番高い場所を目指して突き進んで！」",
            "🎸「人生、ロックに行こうよ！型にはまらなくていい、あなたの好きなメロディを全力で奏でれば、それが正解なんだから！」",
            "🍭「ハッピーは自分で作るもの！まずはあなたが世界で一番楽しんじゃおう。楽しんでいる人のところに、最高のチャンスは転がり込むよ！」",
            "🦁「勇気を出して一歩踏み出してみて。その勇気が、眠っていた運命を呼び起こす爆弾になる。ドカンと景気良く行こう！」",
            "🌻「太陽はいつもあなたを照らしてる！暗い顔してちゃもったいない。顔を上げて、キラキラのエネルギーをチャージしよう！」",
            "🛸「常識なんて宇宙の果てまで飛ばしちゃえ！あなたはもっと自由でいい。あなたの『好き』を貫き通す姿が、一番カッコいいんだよ！」",
            "🏰「あなたの未来には、ピッカピカの宮殿が用意されてる！そこへ向かう道のりも、冒険だと思って楽しんじゃおうよ！」",
            "🎉「毎日がお祭り騒ぎ！嫌なことがあっても、それはハッピーエンドのための前振りに過ぎない。さあ、盛大に盛り上がっていこう！」",
            "🏃‍♀️「止まらないで、そのままの勢いで駆け抜けて！風を感じて、自由を感じて。あなたの行く手に敵なんて一人もいないよ！」",
            "🍫「エネルギー切れ？ならミルコの特大魔法を注入！はい、元気100倍！今のあなたなら、どんな壁も余裕で飛び越えられるよ！」",
            "✨「あなたは光そのもの！あなたが歩く場所には、自然と花が咲き、虹がかかる。自分のパワーをもっと信じてあげて！」",
            "🎤「あなたの人生のステージ、マイクはあなたが持ってるんだよ！誰にも歌わせないで、あなたの魂の歌を世界中に響かせて！」",
            "🥂「未来の成功に、今から乾杯しちゃおう！予祝（よしゅく）だよ！叶った後のことを考えて、ニヤニヤしながら過ごしてね✨」",
            "🦄「ミルコが保証するよ。あなたの未来は明るすぎるくらい明るい！サングラスが必要なくらい、キラキラした日々が待ってるからね！」",
            "☀️「おはようからおやすみまで、あなたは今日も完璧だった！自分を褒めて褒めて褒めちぎって、最高の気分で明日を迎えよう！」",
            "🍀「ラッキーなんて、自分でいくらでも作れるよ！『私はツイてる！』って10回言ってみて。ほら、もう運気が上がり始めたよ！」",
            "🌊「時代の波に乗っちゃおう！変化を恐れず、新しい自分を楽しんで。波乗りみたいに、スイスイと幸せを掴みに行こう！」",
            "💥「限界なんて、誰が決めたの？そんなのぶっ壊しちゃえ！あなたの可能性は無限大。どこまでも、いつまでも成長し続けられるよ！」",
            "🎨「あなたの人生は、真っ白なキャンバス。今日は何色で塗る？とびきり派手で、ハッピーな色を塗りたくっちゃおうよ！」",
            "🦋「羽ばたく準備はできてる？さあ、広い空へ飛び出そう！あなたの美しさを、世界に見せつけてやる時が来たんだよ！」",
            "🏹「狙った幸せは逃さない！真っ直ぐに、力強く、あなたの願いを放って。百発百中で叶う魔法を、今かけてあげたからね！」",
            "💖「愛されモード全開！今日のあなたは魅力が溢れすぎて、すれ違う人みんなが振り返っちゃうかも。恋の準備はいい？」",
            "🍿「人生は最高のエンターテインメント！何が起きても『面白い展開になってきたじゃん！』って笑い飛ばして楽しもう！」",
            "🗺️「あなたの地図にない場所へ行こう！新しい発見が、あなたをさらに輝かせる。未知の世界へ、ワクワクしながら出発だ！」",
            "💎「磨けば磨くほど光るのがあなた。今日の努力は、明日の眩しすぎる輝きになる。一歩ずつ、確実に最強に近づいているよ！」",
            "💪「大丈夫、あなたには底力がある！ピンチの時こそ、あなたの本当の凄さが発揮される。逆転満塁ホームランを狙いに行こう！」",
            "🎀「自分へのプレゼントを毎日用意して！『生きてるだけで偉い！』って、自分を甘やかす天才になれば、無敵になれるよ✨」",
            "🪁「風を味方にして、高く、もっと高く！重たい悩みは全部捨てて、身軽になればなるほど、あなたは自由に空を舞えるんだ。」",
            "🔔「幸せの鐘が鳴り響いてるよ！聞こえる？これからは良いことしか起きない、最高の黄金時代の幕開けなんだから！」",
            "🍭「人生のスパイスは、あなたが決める。甘さも刺激も、全部あなたの自由自在！欲張りになって、全部手に入れちゃおう！」",
            "🧸「ミルコがハグしてあげる！ギューッ！はい、これでパワー全開。あなたはもう、何にも負けない無敵のヒロインだよ！」",
            "🛶「流れに身を任せるのもいいけど、たまには全力で漕いでみて！自分の力で辿り着いた場所の景色は、格別に美しいんだから！」",
            "🌋「あなたの情熱は、火山みたいに熱くてパワフル！その想いを形にする時が来たよ。一気に噴火させて、世界を驚かせちゃおう！」",
            "🍃「新しい風が吹いてきた！古い自分は脱ぎ捨てて、新しい自分を楽しもう。あなたはいつだって、何度だって生まれ変われるんだ。」",
            "🛰️「宇宙規模で物事を考えてみて。あなたの悩みなんて、ちっぽけな砂粒みたいなもの。もっと大きく、自由に、未来を描いて！」",
            "🎰「おめでとう！ジャックポット的中だよ！これからあなたの人生に、数えきれないほどのラッキーが雪崩のように押し寄せるよ！」",
            "🛸「あなたは地球に遊びに来たスターなんだよ！難しく考えないで、この星を全力で遊んで、楽しんで、笑い転げて過ごしてね！」",
            "⚡️「直感を信じて！『これだ！』と思った瞬間に動くのが、成功への最短ルート。あなたのひらめきは、神様からのメッセージだよ！」",
            "👑「あなたは愛されるために生まれてきた。それを忘れないで。世界はあなたを歓迎しているし、みんなあなたが大好きだよ！」",
            "🦄「さあ、伝説の始まりだよ！ミルコと一緒に、誰も見たことがないようなハッピーエンドを、あなたの手で作っていこう！」"
            
       
 ];

        const tarotData = [
            { id: 0, group: "major", name: "0. FOOL", desc: "今は完璧じゃなくていい恋✨先の不安より「好き」という純粋な気持ちを信じて。勇気ある一歩が、思いがけない幸せに繋がります🌈", img: "images/0.png" },
            { id: 1, group: "major", name: "1. MAGICIAN", desc: "あなたの想いには現実を動かす力があります💫駆け引きより素直な言葉を。伝えることで、恋ははっきりと形を持ち始めます💌", img: "images/1.png" },
            { id: 2, group: "major", name: "2. HIGH PRIESTESS", desc: "相手の本心は言葉より態度に表れています🌙焦らず静かに見守って。あなたの直感は今、とても冴えています🕊️", img: "images/2.png" },
            { id: 3, group: "major", name: "3. EMPRESS", desc: "愛されることを遠慮しないで💐受け取る覚悟ができた時、恋は自然と満たされていきます。自分を甘やかすのも大切な愛💖", img: "images/3.png" },
            { id: 4, group: "major", name: "4. EMPEROR", desc: "安心できる関係は自分軸から✨無理に合わせず、自分を大切にする姿勢が相手の信頼を育てます🏰", img: "images/4.png" },
            { id: 5, group: "major", name: "5. HIEROPHANT", desc: "誠実な想いは時間をかけて実を結びます🌿周囲の常識より、心が「正しい」と感じる選択を🤍", img: "images/5.png" },
            { id: 6, group: "major", name: "6. LOVERS", desc: "迷いは本気の証拠💞心が強く惹かれる方を選んで。選択した先で、あなたの恋は深まっていきます✨", img: "images/6.png" },
            { id: 7, group: "major", name: "7. CHARIOT", desc: "今は待つより動く時🚀小さな行動が大きな進展に。勇気を出したあなたに、恋は味方します🔥", img: "images/7.png" },
            { id: 8, group: "major", name: "8. STRENGTH", desc: "優しさは最大の強さ🦁無理に頑張らなくて大丈夫。あなたの思いやりが、相手の心を自然と開きます💗", img: "images/8.png" },
            { id: 9, group: "major", name: "9. HERMIT", desc: "一人の時間は恋を整えるため🌙静かに向き合うことで、本当に望む愛が見えてきます🕯️", img: "images/9.png" },
            { id: 10, group: "major", name: "10. WHEEL OF FORTUNE", desc: "流れが大きく動く時🎡偶然の出来事にこそ意味があります。チャンスはすでに巡ってきています✨", img: "images/10.png" },
            { id: 11, group: "major", name: "11. JUSTICE", desc: "本音と行動を一致させて⚖️誠実な選択は、後悔しない恋を引き寄せます🤍", img: "images/11.png" },
            { id: 12, group: "major", name: "12. HANGED MAN", desc: "今は動かなくても大丈夫🌱待つ時間が愛を育てています。見方を変えると答えが見えてくる✨", img: "images/12.png" },
            { id: 13, group: "major", name: "13. DEATH", desc: "終わりは新しい始まり🖤手放した先に、もっと幸せな恋が用意されています🌹", img: "images/13.png" },
            { id: 14, group: "major", name: "14. TEMPERANCE", desc: "無理のない関係が長続き💞歩幅を合わせることで、心地よい愛の形が整います🌸", img: "images/14.png" },
            { id: 15, group: "major", name: "15. DEVIL", desc: "それは愛？それとも執着？🕸️苦しくなる恋は見直して。自由な心が本当の幸せを呼びます✨", img: "images/15.png" },
            { id: 16, group: "major", name: "16. TOWER", desc: "衝撃は真実を知るため⚡壊れた幻想の先に、偽りのない愛が待っています🌈", img: "images/16.png" },
            { id: 17, group: "major", name: "17. STAR", desc: "希望を手放さないで🌟その恋はまだ可能性に満ちています。信じる心が未来を照らします💫", img: "images/17.png" },
            { id: 18, group: "major", name: "18. MOON", desc: "不安は思い込みかも🌙確かめる勇気を。真実を知ることで、心は静かに落ち着きます🤍", img: "images/18.png" },
            { id: 19, group: "major", name: "19. SUN", desc: "素直な笑顔が恋を輝かせます☀️喜びを分かち合える関係が、あなたを幸せにします💛", img: "images/19.png" },
            { id: 20, group: "major", name: "20. JUDGEMENT", desc: "過去の恋に答えが出る時📯許しと気づきが、新しい愛への扉を開きます✨", img: "images/20.png" },
            { id: 21, group: "major", name: "21. WORLD", desc: "心から満たされる恋が完成💍ありのままのあなたで、愛される幸せを受け取って🌈", img: "images/21.png" },
            { id: 22, group: "wands", name: "WANDS ACE", desc: "恋の情熱が着火する時🔥一気に距離が縮まるチャンス。ワクワクに従って進んで✨", img: "images/22.png" },
            { id: 23, group: "wands", name: "WANDS 2", desc: "次の一歩を考える時🌍未来への期待が高まっています。理想の恋を描き始めて✨", img: "images/23.png" },
            { id: 24, group: "wands", name: "WANDS 3", desc: "恋の可能性が広がります⛵着実に進展している証拠。自信を持って見守って🌈", img: "images/24.png" },
            { id: 25, group: "wands", name: "WANDS 4", desc: "心安らぐ平和な時間🏡二人の土台が固まり、安心できる関係へと成長します💞", img: "images/25.png" },
            { id: 26, group: "wands", name: "WANDS 5", desc: "小さなぶつかり合いは成長のサイン⚡本音で向き合うことで愛が深まります✨", img: "images/26.png" },
            { id: 27, group: "wands", name: "WANDS 6", desc: "恋の勝利はもうすぐ🎉周囲も認めるような嬉しい進展が期待できるときだよ🏆", img: "images/27.png" },
            { id: 28, group: "wands", name: "WANDS 7", desc: "自分の立場や恋を守り抜く時🛡️あなたの強い想いが運命を切り開きます💪", img: "images/28.png" },
            { id: 29, group: "wands", name: "WANDS 8", desc: "急展開のサイン📩トントン拍子に話が進む予感。流れを逃さず乗って💨", img: "images/29.png" },
            { id: 30, group: "wands", name: "WANDS 9", desc: "踏ん張りどころ🚧少し疲れ気味かも。でもゴールは目の前だから諦めないで✨", img: "images/30.png" },
            { id: 31, group: "wands", name: "WANDS 10", desc: "抱え込みすぎかも💦恋の責任を一人で負わないで。もっと相手を頼ってみて🤝", img: "images/31.png" },
            { id: 32, group: "wands", name: "WANDS PAGE", desc: "フレッシュな知らせ✨純粋な好奇心が恋の新しい扉を開けてくれるよワクワク🌟", img: "images/32.png" },
            { id: 33, group: "wands", name: "WANDS KNIGHT", desc: "情熱的に突き進む時🏇迷っている暇はありません。直感で駆け抜けて🔥", img: "images/33.png" },
            { id: 34, group: "wands", name: "WANDS QUEEN", desc: "あなたの魅力が溢れています太陽のように明るい笑顔が素敵な人を惹きつけるよ🌻", img: "images/34.png" },
            { id: 35, group: "wands", name: "WANDS KING", desc: "強いリーダーシップが鍵👑あなたが主導権を握ることで、理想の恋が実現します✨", img: "images/35.png" },
            { id: 36, group: "cups", name: "CUPS ACE", desc: "愛の喜びが溢れ出す時💗新しいトキメキや、深い愛情を受け取る準備をして🌸", img: "images/36.png" },
            { id: 37, group: "cups", name: "CUPS 2", desc: "心と心が通じ合う最高の調和💕対等な関係で、愛を誓い合える幸せが訪れます✨", img: "images/37.png" },
            { id: 38, group: "cups", name: "CUPS 3", desc: "喜びを分かち合う祝福の時間🥂仲間のサポートや楽しい交流が恋を応援します🌷", img: "images/38.png" },
            { id: 39, group: "cups", name: "CUPS 4", desc: "少しマンネリ気味？😌不満に目を向けるより、差し出された愛に気づくことが大切☁️", img: "images/39.png" },
            { id: 40, group: "cups", name: "CUPS 5", desc: "失ったものに囚われないで🌧️後ろを向けば、まだ残っている温かい愛に気づくはず🌈", img: "images/40.png" },
            { id: 41, group: "cups", name: "CUPS 6", desc: "懐かしい記憶が幸せを運びます🍀純粋だった頃の気持ちが、今の恋を癒してくれます💞", img: "images/41.png" },
            { id: 42, group: "cups", name: "CUPS 7", desc: "理想が膨らみすぎているかも☁️夢を見るのもいいけど、今は現実的な愛を選んで現実✨", img: "images/42.png" },
            { id: 43, group: "cups", name: "CUPS 8", desc: "次のステージへ進む時🌙今の関係に区切りをつけて、より高い愛を求めて旅立おう🚪", img: "images/43.png" },
            { id: 44, group: "cups", name: "CUPS 9", desc: "願いが叶う満たされた時💖あなたの心が満たされれば、恋も自然とうまくいきます✨", img: "images/44.png" },
            { id: 45, group: "cups", name: "CUPS 10", desc: "最高の幸福感。家族や大切な人と、穏やかで深い愛に包まれる未来が待っています🌈", img: "images/45.png" },
            { id: 46, group: "cups", name: "CUPS PAGE", desc: "感受性が豊かになっている時🐚素直な想いを表現することで、可愛がられる恋に💓", img: "images/46.png" },
            { id: 47, group: "cups", name: "CUPS KNIGHT", desc: "ロマンチックな誘いの予感🌹王子様のような優しい愛が、あなたを迎えに来るよ✨", img: "images/47.png" },
            { id: 48, group: "cups", name: "CUPS QUEEN", desc: "母性的な深い愛の力🌊慈しみの心で接することで、相手の心を完全に掴めます💗", img: "images/48.png" },
            { id: 49, group: "cups", name: "CUPS KING", desc: "包容力のある安定した愛👑感情をコントロールし、優しさで関係を導けるときだよ✨", img: "images/49.png" },
            { id: 50, group: "swords", name: "SWORDS ACE", desc: "真実を見極める強い意志⚡曖昧な関係を断ち切り、新しい道を決断する時です✨", img: "images/50.png" },
            { id: 51, group: "swords", name: "SWORDS 2", desc: "葛藤の中でバランスを探して⚖️無理に動かず、心が定まるのをじっと待って🤍", img: "images/51.png" },
            { id: 52, group: "swords", name: "SWORDS 3", desc: "心が痛む経験は浄化のプロセス💔この痛みを知ることで、あなたはもっと優しくなれる🌱", img: "images/52.png" },
            { id: 53, group: "swords", name: "SWORDS 4", desc: "一旦休息して、戦うのをやめよう🕊️静かな眠りが、あなたの恋に明快な答えをくれる🫧", img: "images/53.png" },
            { id: 54, group: "swords", name: "SWORDS 5", desc: "勝ち負けに意味はありません⚔️意地を張るより、心の平和を守る選択をしよう🤍", img: "images/54.png" },
            { id: 55, group: "swords", name: "SWORDS 6", desc: "困難から離れ、安らぎの地へ⛵誰かの助けを借りて、より良い環境へ移動する時です🌈", img: "images/55.png" },
            { id: 56, group: "swords", name: "SWORDS 7", desc: "駆け引きには慎重になって🕶️小手先のテクニックより、誠実さで勝負する方が吉✨", img: "images/56.png" },
            { id: 57, group: "swords", name: "SWORDS 8", desc: "自分で自分を閉じ込めていない？⛓️目隠しを外せば、逃げ道はいくらでもあるよ🌬️", img: "images/57.png" },
            { id: 58, group: "swords", name: "SWORDS 9", desc: "考えすぎて眠れない夜🌙不安の正体は妄望かも。現実はもっと明るいよ大丈夫🫧", img: "images/58.png" },
            { id: 59, group: "swords", name: "SWORDS 10", desc: "これ以上の不幸はない、最悪期の脱出🌑夜明けはすぐそこ。新しい自分に生まれ変わろう🌅🌅", img: "images/59.png" },
            { id: 60, group: "swords", name: "SWORDS PAGE", desc: "警戒心と好奇性が入り混じる時👀慎重に様子を見ながら、有利なチャンスを伺って✨", img: "images/60.png" },
            { id: 61, group: "swords", name: "SWORDS KNIGHT", desc: "猛スピードで事態が動きます⚡言葉が刃にならないよう、冷静さを忘れないで🤍", img: "images/61.png" },
            { id: 62, group: "swords", name: "SWORDS QUEEN", desc: "知的な自立心で恋を切り盛り👑厳しいけれど正しい判断が、あなたを幸せにする✨", img: "images/62.png" },
            { id: 63, group: "swords", name: "SWORDS KING", desc: "冷静で公正な愛の裁き🧠感情に流されず、真実に基づいて関係を築ける時です✨", img: "images/63.png" },
            { id: 64, group: "pentacles", name: "PENTACLES ACE", desc: "現実的な幸せの種がまかれます🌱結婚や将来を見据えた、確かな愛の始まりです✨", img: "images/64.png" },
            { id: 65, group: "pentacles", name: "PENTACLES 2", desc: "器用に恋をコントロール⚖️変化を楽しみながら、二人のバランスを調整して🤍", img: "images/65.png" },
            { id: 66, group: "pentacles", name: "PENTACLES 3", desc: "着実な協力関係を築く時🔧共通の目標を持つことで、絆がより強固になります✨", img: "images/66.png" },
            { id: 67, group: "pentacles", name: "PENTACLES 4", desc: "独占欲が強くなっているかも🔒握りしめすぎず、心を開いて相手を信じて💫", img: "images/67.png" },
            { id: 68, group: "pentacles", name: "PENTACLES 5", desc: "厳しい状況に負けないで❄️孤独を感じても、救いの手は必ず近くにあります🤍", img: "images/68.png" },
            { id: 69, group: "pentacles", name: "PENTACLES 6", desc: "慈悲深く、対等な愛のギブ＆テイク🎁優しさを循環させることで、愛が倍増します✨", img: "images/69.png" },
            { id: 70, group: "pentacles", name: "PENTACLES 7", desc: "今の成果を見直す収穫待ち⏳焦らずこれまでの努力を信じれば、豊かな実りが訪れる🌿", img: "images/70.png" },
            { id: 71, group: "pentacles", name: "PENTACLES 8", desc: "恋も自分磨きもコツコツと🔨日々の小さな積み重ねが、大きな信頼へと変わります✨", img: "images/71.png" },
            { id: 72, group: "pentacles", name: "PENTACLES 9", desc: "洗練された魅力で人を惹きつけます🌹自立した大人の恋を楽しめる充実期✨", img: "images/72.png" },
            { id: 73, group: "pentacles", name: "PENTACLES 10", desc: "盤石な繁栄と幸福🏡受け継がれるような、深く安定した愛の形が完成します💍", img: "images/73.png" },
            { id: 74, group: "pentacles", name: "PENTACLES PAGE", desc: "真面目で誠実な学びの恋📘ゆっくりと時間をかけて、価値観を共有していこう✨", img: "images/74.png" },
            { id: 75, group: "pentacles", name: "PENTACLES KNIGHT", desc: "慎重に、でも確実に愛を運びます🐢スピードよりも誠実さを大切にして🤍", img: "images/75.png" },
            { id: 76, group: "pentacles", name: "PENTACLES QUEEN", desc: "豊かな包容力で愛を育む🌼心からの安心感を与える存在として、恋を守り抜こう💖", img: "images/76.png" },
            { id: 77, group: "pentacles", name: "PENTACLES KING", desc: "揺るぎない安定と信頼👑経済的にも精神的にも、頼れるパートナーとの良縁✨", img: "images/77.png" },
            { id: 78, group: "secret", name: "ULTIMATE", desc: "あなたの恋は今、最終段階の扉の前にいます💍もう疑わなくて大丈夫。これまでの想いと選択はすべて正解✨覚悟を決めて受け取ることで、運命の愛が完全に形になります🌈💖", img: "images/78.png" }
        ];

        let coins = parseInt(localStorage.getItem('miruCoins') || '2');
let usedSecretCode = localStorage.getItem('usedSecretCode') === 'true'; // 追加：使用済みか確認
        let lastAccess = localStorage.getItem('lastAccessDate');
        let unlockedCards = JSON.parse(localStorage.getItem('unlockedCards') || '[]');
        let isMuted = true;
        let isCollectionOpen = false;
        let isGachaRunning = false;
        const bgm = document.getElementById('bgm');
        bgm.volume = 0.5;

        // バックグラウンド制御
        document.addEventListener("visibilitychange", () => {
            if (document.hidden) { bgm.pause(); } 
            else { if (!isMuted && (isCollectionOpen || !isGachaRunning)) bgm.play().catch(() => {}); }
        });

        function updateUI() {
            const today = new Date().toLocaleDateString();
            if (lastAccess !== today) {
    // 修正前: coins = +2;  (これだと2枚にリセットされる)
    coins += 2; // 修正後: これで今の枚数に2枚プラスされます✨
    
    lastAccess = today;
    localStorage.setItem('lastAccessDate', today);
    localStorage.setItem('miruCoins', coins);
}
            // 100,000枚以上になったら「♾️」と表示する
if (coins >= 100000) {
    document.getElementById('coin-count').innerText = "♾️";
} else {
    document.getElementById('coin-count').innerText = coins;
}

            const btn = document.getElementById('play-btn');
            const limitInfo = document.getElementById('limit-info');
            const premiumInfo = document.getElementById('premium-info');
            const timerCon = document.getElementById('timer-container');

           // --- 修正後の updateUI 関数の一部 ---

if (coins <= 0) {
    btn.disabled = true;
    limitInfo.style.display = "block";
    document.getElementById('limit-text').innerText = "";
    premiumInfo.style.display = "block";
    timerCon.style.display = "block";
} else {
    btn.disabled = false;
    limitInfo.style.display = "block";
    premiumInfo.style.display = "none";
    timerCon.style.display = "none";

    // 10万枚以上なら「無限に占える」という表示に変える
if (coins >= 100000) {
    // innerText ではなく innerHTML を使ってクラスを適用する
    document.getElementById('coin-count').innerHTML = '<span class="rainbow-text">∞</span>'; 
    document.getElementById('limit-text').innerHTML = '好きなだけ占えるよ！<span class="rainbow-text">∞</span>✨';
} else {
    document.getElementById('coin-count').innerText = coins;
    document.getElementById('limit-text').innerText = `あと ${coins} 回占えるよ✨`;
}
}

            // 図鑑のカウントとボタン更新
            document.getElementById('collection-count').innerText = `${unlockedCards.length}/79 登録済み`;
            const doorBtn = document.getElementById('door-btn');
            if(unlockedCards.length >= 79) {
                doorBtn.classList.add('active');
                doorBtn.disabled = false;
            } else {
                doorBtn.classList.remove('active');
                doorBtn.disabled = true;
            }
        }

        function toggleMusic() {
            isMuted = !isMuted;
            const toggleBtn = document.getElementById('music-toggle');
            if (isMuted) { bgm.pause(); toggleBtn.innerText = "🔇"; } 
            else { bgm.play().catch(() => {}); toggleBtn.innerText = "🎵"; }
        }
// 入力エリアを表示する
function showSecretCodeInput() {
    document.getElementById('secret-code-area').style.display = 'block';
}

// コードを検証してコインを増やす
function useSecretCode() {
    // すでに使っている場合
    if (usedSecretCode) {
        alert("この端末では、秘密のコードはすでに1回使用されています🦄💦");
        return;
    }

    const inputCode = document.getElementById('secret-code-input').value;
    const correctCode = "MIRUKO2026"; // ここに好きな秘密のコードを設定してください

    if (inputCode === correctCode) {
        coins += 999999; // 増やす枚数はここで調整してください
        usedSecretCode = true;
        
        // 保存
        localStorage.setItem('miruCoins', coins);
        localStorage.setItem('usedSecretCode', 'true');
        
        updateUI();
        alert("おめでとう！秘密のコードが確認できたよ✨ミルコインが♾️になったよ🦄💎");
        document.getElementById('secret-code-area').style.display = 'none';
    } else {
        alert("コードが違うみたい…。もう一度確認してみてね！");
    }
}

        setInterval(() => {
            const now = new Date();
            const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
            const diff = tomorrow - now;
            const h = Math.floor(diff / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            const countdownEl = document.getElementById('countdown');
            if(countdownEl) countdownEl.innerText = `${h}時間${m}分${s}秒`;
        }, 1000);

        function typeWriter(text, elementId, speed = 40) {
            let i = 0;
            const element = document.getElementById(elementId);
            element.innerHTML = "";
            return new Promise(resolve => {
                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else { resolve(); }
                }
                type();
            });
        }

        async function playGacha() {

            if (coins <= 0) return;
            isGachaRunning = true;
            if (!isMuted) bgm.play();
            coins--; 
            localStorage.setItem('miruCoins', coins);
            updateUI();

            const machine = document.getElementById('gacha-machine');
            const cap1 = document.getElementById('capsule1');
            const cap2 = document.getElementById('capsule2');
            [cap1, cap2].forEach(c => {
                c.classList.remove('pop-out1', 'pop-out2', 'capsule-split');
                c.style.setProperty('--cap-color', ['#ff8aae', '#a2d2ff', '#ffd700', '#b19cd9'][Math.floor(Math.random() * 4)]);
            });

            machine.style.animation = "shake 0.05s infinite";
            setTimeout(() => {
                machine.style.animation = "none";
                cap1.classList.add('pop-out1');
                setTimeout(() => cap2.classList.add('pop-out2'), 300);
            }, 1000);

            setTimeout(async () => {
                cap1.classList.add('capsule-split');
                cap2.classList.add('capsule-split');

                const pool = tarotData.filter(d => d.group !== "secret");
                const card1 = pool[Math.floor(Math.random() * pool.length)];
                
                let card2;
                if (Math.random() < 0.05) { card2 = tarotData.find(d => d.group === "secret"); } 
                else {
                    card2 = pool[Math.floor(Math.random() * pool.length)];
                    while(card1.id === card2.id) card2 = pool[Math.floor(Math.random() * pool.length)];
                }

                saveToCollection(card1.id);
                saveToCollection(card2.id);

                document.getElementById('card-box1').innerHTML = `<img src="${card1.img}">`;
                document.getElementById('card-box2').innerHTML = `<img src="${card2.img}">`;
                document.getElementById('miruko-msg').innerHTML = "";
                document.getElementById('miruko-status').innerText = "ミルコが占い中…🦄✨";
                document.getElementById('close-res-btn').style.display = "none";
                document.getElementById('result-overlay').style.display = "flex";
                
                setTimeout(() => {
                    document.getElementById('card-box1').classList.add('active');
                    document.getElementById('card-box2').classList.add('active');
                    document.getElementById('detail').classList.add('active');
                }, 100);

                // ランダムなアドバイスを選択
                const randomAdvice = loveAdvices[Math.floor(Math.random() * loveAdvices.length)];

                const finalMsg = `引いたカードは「${card1.name}」と「${card2.name}」だよ！\n\n【今のあなたへ】\n${card1.desc}\n\n【未来へのヒント】\n${card2.desc}\n\n【ミルコからの恋愛アドバイス】\n${randomAdvice}`;
                
                await new Promise(r => setTimeout(r, 1500)); 
                document.getElementById('miruko-status').innerText = "ミルコの占い結果🦄💎";
                await typeWriter(finalMsg, 'miruko-msg', 35);
                document.getElementById('close-res-btn').style.display = "block";
            }, 2000);
        }

        function closeResult() { 
            document.getElementById('result-overlay').style.display = "none"; 
            document.querySelectorAll('.card-reveal, #detail').forEach(el => el.classList.remove('active')); 
            isGachaRunning = false;
        }

        function saveToCollection(id) {
            if (!unlockedCards.includes(id)) {
                unlockedCards.push(id);
                localStorage.setItem('unlockedCards', JSON.stringify(unlockedCards));
            }
        }

        function openCollection() {
            isCollectionOpen = true;
            updateUI();
            document.getElementById('collection-overlay').style.display = 'flex';
            filterCollection('all', document.querySelector('.nav-btn'));
            if (!isMuted) bgm.play();
        }

        function closeCollection() {
            isCollectionOpen = false;
            document.getElementById('collection-overlay').style.display = 'none';
        }

        function filterCollection(group, btn) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const grid = document.getElementById('collection-grid');
            grid.innerHTML = "";

            tarotData.forEach(card => {
                if (group !== 'all' && card.group !== group) return;
                const isUnlocked = unlockedCards.includes(card.id);
                const item = document.createElement('div');
                item.className = `collection-item ${isUnlocked ? 'unlocked' : ''}`;
                item.innerHTML = `<img src="${card.img}">`;
                if (isUnlocked) {
                    item.onclick = () => open3D(card.img);
                }
                grid.appendChild(item);
            });
        }

        // 3D表示機能
        let startX, startY, currentX = 0, currentY = 0;
        function open3D(imgSrc) {
            const overlay = document.getElementById('card-3d-overlay');
            const img = document.getElementById('card-3d-img');
            const container = document.getElementById('card-3d-container');
            img.src = imgSrc;
            container.style.transform = "rotateY(0deg) rotateX(0deg)";
            currentX = 0; currentY = 0;
            overlay.style.display = 'flex';

            overlay.ontouchstart = (e) => {
                startX = e.touches[0].pageX;
                startY = e.touches[0].pageY;
            };
            overlay.ontouchmove = (e) => {
                const dx = e.touches[0].pageX - startX;
                const dy = e.touches[0].pageY - startY;
                currentX += dx * 0.5;
                currentY -= dy * 0.5;
                container.style.transform = `rotateY(${currentX}deg) rotateX(${currentY}deg)`;
                startX = e.touches[0].pageX;
                startY = e.touches[0].pageY;
            };
        }
        function close3D() { document.getElementById('card-3d-overlay').style.display = 'none'; }

        function openSecret() {
            if(unlockedCards.length >= 79) {
                document.getElementById('secret-modal').style.display = 'flex';
            }
        }




// --- 図鑑データの引き継ぎ機能（ちょっとだけ暗号化版） ---

// 1. 合言葉を発行する（数字をめちゃくちゃにする）
function exportData() {
    if (unlockedCards.length === 0) {
        alert("🦄「まだ図鑑に何も登録されていないよ！」");
        return;
    }

    // 数字を文字に変換して、btoa(Base64)という方式で暗号っぽく見せる
    const rawData = unlockedCards.join(',');
    const encodedData = btoa(rawData); // これで "MSwyLDMs..." みたいな謎の文字列になります
    
    const finalCode = "MIRUKO-" + encodedData; // 頭にミルコの名前をつけて可愛く！

    navigator.clipboard.writeText(finalCode).then(() => {
        alert("🦄「魔法の合言葉をコピーしたよ！メモ帳などにペーストして大切に保管してね✨」\n\n合言葉: " + finalCode);
    }).catch(err => {
        prompt("🦄「魔法の合言葉だよ！これを保存してね：", finalCode);
    });
}

// 2. 合言葉を読み込む（暗号を解く）
function importData() {
    const code = prompt("🦄「保存しておいた魔法の合言葉を入力してね：");
    
    if (code && code.startsWith("MIRUKO-")) {
        try {
            // "MIRUKO-" を取り除いて、暗号を元に戻す
            const encodedPart = code.replace("MIRUKO-", "");
            const decodedData = atob(encodedPart); // 暗号解除！
            const importedCards = decodedData.split(',').map(num => parseInt(num));

            if (confirm("🦄「図鑑のデータを復元してもいい？今のデータは消えちゃうよ！」")) {
                unlockedCards = [...new Set(importedCards)];
                localStorage.setItem('unlockedCards', JSON.stringify(unlockedCards));
                alert("🦄「魔法の扉が繋がったよ！図鑑を復元したよ✨」");
                location.reload();
            }
        } catch (e) {
            alert("🦄「うーん、その合言葉は魔法が解けちゃってるみたい。もう一度確認してみてね。」");
        }
    } else if (code) {
        alert("🦄「それは正しい合言葉じゃないみたい...」");
    }
}



        window.onload = updateUI;
    </script>
</body>
</html>
