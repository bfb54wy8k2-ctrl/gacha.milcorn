ver3


<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ãƒŸãƒ«ã‚³ãƒ¼ãƒ³ã®æ‹å ã„ã‚¬ãƒãƒ£</title>

    <link rel="apple-touch-icon" href="images/icon2.png?rev=3">
    <link rel="icon" type="image/png" href="images/icon2.png?rev=3">
    
    <meta property="og:image" content="https://bfb54wy8k2-ctrl.github.io/images/icon2.png?rev=3">
    <meta property="og:title" content="ãƒŸãƒ«ã‚³ãƒ¼ãƒ³ã®æ‹å ã„ã‚¬ãƒãƒ£">
    <meta property="og:type" content="website">

    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: #d4af37; --pink: #ffb6c1; --bg: #1a1a1a; --font: 'Zen Maru Gothic', sans-serif; }
        
        /* iPhoneå¯¾ç­–ï¼šæ–‡å­—ã‚µã‚¤ã‚ºè‡ªå‹•èª¿æ•´é˜²æ­¢ */
        html { -webkit-text-size-adjust: 100%; }

        body { 
            background: var(--bg); 
            color: white; 
            font-family: var(--font); 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh; 
            overflow-x: hidden; 
        }

        /* ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ã‚³ã‚¤ãƒ³è¡¨ç¤º */
        .title { margin-top: 20px; font-size: 1.1rem; color: var(--gold); text-align: center; font-weight: 700; }
        .title img { width: 30px; vertical-align: middle; margin-right: 8px; border-radius: 50%; border: 1px solid var(--gold); }
        #coin-display { margin-top: 15px; background: rgba(212, 175, 55, 0.2); padding: 8px 25px; border-radius: 30px; border: 2px solid var(--gold); color: var(--gold); font-weight: bold; font-size: 1.1rem; }

        /* ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ ã‚¬ã‚¤ãƒ‰ */
        .app-guide-box { 
            margin-top: 12px; 
            background: rgba(255, 255, 255, 0.05); 
            padding: 10px; 
            border-radius: 15px; 
            width: 85%; 
            max-width: 320px; 
            text-align: center; 
            border: 1px dashed #555;
        }
        .guide-title { font-size: 0.75rem; color: var(--gold); margin-bottom: 8px; font-weight: bold; }
        .guide-row { display: flex; justify-content: space-around; gap: 10px; }
        .guide-item { flex: 1; font-size: 0.65rem; color: #ccc; line-height: 1.3; }
        .guide-icon { font-size: 1rem; display: block; margin-bottom: 3px; }

        /* ã‚¬ãƒãƒ£åˆ¶é™ãƒ»ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ¡ˆå†… */
        #limit-info { margin-top: 15px; text-align: center; color: var(--pink); font-size: 0.85rem; background: rgba(255,182,193,0.1); padding: 15px; border-radius: 15px; width: 85%; max-width: 320px; border: 1px solid rgba(255,182,193,0.2); }
        #countdown { font-family: monospace; font-size: 1.1rem; color: #fff; margin-top: 5px; display: block; }
        #premium-info { display: none; margin-top: 15px; background: linear-gradient(135deg, #4b3a1a 0%, #1a1a1a 100%); border: 2px solid var(--gold); padding: 15px; border-radius: 20px; width: 85%; max-width: 320px; text-align: center; box-shadow: 0 0 15px rgba(212, 175, 55, 0.3); }
        
        /* ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒœã‚¿ãƒ³å‘¨è¾ºã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ */
        .premium-actions { display: flex; justify-content: center; gap: 10px; margin-top: 10px; flex-wrap: wrap; }
        .premium-btn { display: inline-block; padding: 12px 20px; background: var(--gold); color: #000; text-decoration: none; font-weight: bold; border-radius: 25px; font-size: 0.85rem; box-shadow: 0 4px 0 #927821; border: none; cursor: pointer; }
        .code-btn { background: #555; color: #fff; box-shadow: 0 4px 0 #333; }

        /* ã‚¬ãƒãƒ£æœ¬ä½“ */
        #gacha-container { position: relative; width: 300px; height: 350px; margin-top: 10px; }
        #gacha-machine { width: 100%; height: 100%; object-fit: contain; position: relative; z-index: 10; }

        /* ã‚«ãƒ—ã‚»ãƒ«æ¼”å‡º */
        .capsule { position: absolute; bottom: 60px; right: 40px; width: 60px; height: 60px; z-index: 100; display: none; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5)); }
        .capsule-inner { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; }
        .capsule-top { position: absolute; top: 0; width: 100%; height: 50%; border-radius: 30px 30px 0 0; background: linear-gradient(135deg, rgba(255,255,255,0.5) 0%, transparent 50%), var(--cap-color, #333); border: 1px solid rgba(255,255,255,0.3); transition: all 0.5s ease-out; }
        .capsule-bottom { position: absolute; bottom: 0; width: 100%; height: 50%; border-radius: 0 0 30px 30px; background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(2px); border: 1px solid rgba(255,255,255,0.4); transition: all 0.5s ease-out; }

        .pop-out1 { display: block !important; animation: capsule-fly1 1.2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards; }
        .pop-out2 { display: block !important; animation: capsule-fly2 1.2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards; }
        @keyframes capsule-fly1 { 0% { transform: translate(0, 0) scale(0.3) rotate(0deg); } 100% { transform: translate(-130px, -120px) scale(2.2) rotate(720deg); } }
        @keyframes capsule-fly2 { 0% { transform: translate(0, 0) scale(0.3) rotate(0deg); } 100% { transform: translate(-50px, -120px) scale(2.2) rotate(-720deg); } }
        .capsule-split .capsule-top { transform: translateY(-80px) rotate(-40deg); opacity: 0; }
        .capsule-split .capsule-bottom { transform: translateY(80px) rotate(40deg); opacity: 0; }

        /* ã‚¬ãƒãƒ£ãƒœã‚¿ãƒ³ */
        .btn { margin-top: 10px; padding: 18px 60px; background: linear-gradient(to bottom, #ffc0cb, #ff69b4); color: white; border: none; border-radius: 50px; font-weight: 700; font-size: 1.1rem; box-shadow: 0 5px 0 #db7093; cursor: pointer; -webkit-appearance: none; }
        .btn:disabled { background: #666; box-shadow: 0 5px 0 #444; cursor: not-allowed; }

        /* çµæœç”»é¢ */
        #result-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; flex-direction: column; align-items: center; justify-content: flex-start; z-index: 400; padding-top: 40px; overflow-y: auto; }
        .cards-container { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; }
        .card-reveal { width: 120px; aspect-ratio: 2/3.5; border: 2px solid var(--gold); border-radius: 10px; overflow: hidden; background: black; transform: scale(0); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .card-reveal.active { transform: scale(1); }
        .card-reveal img { width: 100%; height: 100%; object-fit: cover; }
        #detail { width: 90%; max-width: 350px; background: #fefcf0; color: #333; padding: 20px; border-radius: 20px; text-align: left; opacity: 0; box-sizing: border-box; margin-bottom: 30px; position: relative; }
        #detail.active { opacity: 1; transition: opacity 0.5s; }
        #miruko-msg { font-size: 0.85rem; line-height: 1.6; min-height: 100px; white-space: pre-wrap; }
        .miruko-status { color: #d44d7c; font-weight: bold; margin-bottom: 10px; display: block; border-bottom: 1px dashed #ffb6c1; padding-bottom: 5px; }

        /* éŸ³é‡ãƒ»å›³é‘‘ãƒœã‚¿ãƒ³ */
        #music-toggle { position: fixed; left: 20px; top: 50px; width: 45px; height: 45px; background: rgba(212, 175, 55, 0.9); border: 2px solid white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; z-index: 500; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        #collection-btn { position: fixed; right: 20px; bottom: 20px; width: 60px; height: 60px; background: linear-gradient(135deg, var(--gold), #927821); border: 2px solid white; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 1.5rem; cursor: pointer; z-index: 500; box-shadow: 0 4px 15px rgba(0,0,0,0.5); animation: fuwafuwa 3s ease-in-out infinite; }
        #collection-btn span { font-size: 0.6rem; font-weight: bold; color: white; margin-top: -2px; }

        /* å›³é‘‘ç”»é¢ */
        #collection-overlay { position: fixed; inset: 0; background: var(--bg); z-index: 1000; display: none; flex-direction: column; padding: 20px; overflow-y: auto; }
        .collection-nav { 
            display: grid;
            grid-template-columns: repeat(2, 1fr); 
            gap: 10px; 
            margin: 20px 0;
            width: 100%;
        }
        .nav-btn { 
            -webkit-appearance: none;
            appearance: none;
            padding: 12px 5px; 
            background: #2a2a2a; 
            color: #fff !important; 
            border: 1px solid var(--gold); 
            border-radius: 12px; 
            font-size: 0.85rem; 
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 48px; 
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }
        .nav-btn.active { background: var(--gold); color: black !important; border-color: #fff; }
        .nav-btn:first-child { grid-column: span 2; } 

        .collection-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding-bottom: 40px; }
        .collection-item { aspect-ratio: 2/3.5; background: #333; border-radius: 5px; border: 1px solid var(--gold); overflow: hidden; position: relative; }
        .collection-item img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.2) grayscale(1); }
        .collection-item.unlocked img { filter: brightness(1) grayscale(0); }

        /* ã‚«ãƒ¼ãƒ‰3Dè¡¨ç¤ºã®è£é¢å¯¾å¿œä¿®æ­£ */
        #card-3d-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000; display: none; align-items: center; justify-content: center; perspective: 1200px; touch-action: none; }
        #card-3d-container { width: 250px; aspect-ratio: 2/3.5; position: relative; transform-style: preserve-3d; transition: transform 0.1s linear; }
        .card-face { position: absolute; inset: 0; backface-visibility: hidden; border: 4px solid var(--gold); border-radius: 15px; overflow: hidden; }
        .card-front { transform: rotateY(0deg); }
        .card-back { transform: rotateY(180deg); }
        .card-face img { width: 100%; height: 100%; object-fit: cover; }

        @keyframes fuwafuwa { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        @keyframes shake { 0%, 100% { transform: rotate(0); } 50% { transform: rotate(-3deg); } }

        /* --- è¿½åŠ åˆ† --- */
        .comp-area {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 15px;
            margin: 10px 0;
            text-align: center;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        .door-btn {
            width: 100%;
            padding: 15px;
            border-radius: 30px;
            font-weight: bold;
            border: none;
            margin-top: 10px;
            font-family: var(--font);
            cursor: not-allowed;
            background: #555;
            color: #888;
        }
        .door-btn.active {
            cursor: pointer;
            color: white;
            background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
            background-size: 400% 400%;
            animation: rainbow 5s ease infinite;
            box-shadow: 0 0 15px rgba(255,255,255,0.5);
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        #secret-modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 3000;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
        }

    </style>
</head>
<body>

    <div id="music-toggle" onclick="toggleMusic()">ğŸ”‡</div>

    <div id="collection-btn" onclick="openCollection()">
        ğŸ“–<span>ãšã‹ã‚“</span>
    </div>

    <div class="title">ãƒŸãƒ«ã‚³ãƒ¼ãƒ³ã®æ‹å ã„ã‚¬ãƒãƒ£</div>
    
    <div class="app-guide-box">
        <div class="guide-title">ğŸ“± ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </div>
        <div class="guide-row">
            <div class="guide-item">
                <span class="guide-icon">ğŸ iPhone</span>
                ä¸‹ã®ã€Œ<span style="font-size:0.8rem">â‹</span>ã€ã‹ã‚‰<br>ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ 
            </div>
            <div class="guide-item">
                <span class="guide-icon">ğŸ¤– Android</span>
                ä¸Šã®ã€Œ<span style="font-size:0.8rem">â‹®</span>ã€ã‹ã‚‰<br>ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ 
            </div>
        </div>
    </div>

    <div id="coin-display">ãƒŸãƒ«ã‚³ã‚¤ãƒ³: <span id="coin-count">0</span> æš</div>

    <div id="limit-info">
        <span id="limit-text"></span>
        <div id="timer-container" style="display:none; margin-top:10px;">
            æ¬¡ã®ç„¡æ–™åˆ†ã¾ã§ï¼šã‚ã¨ <span id="countdown">--æ™‚é–“--åˆ†--ç§’</span>
        </div>
    </div>

    <div id="premium-info">
        <div style="font-size: 0.9rem; color: var(--gold);">âœ¨ ãƒŸãƒ«ã‚³ã‚¤ãƒ³ã‚’ç„¡é™ã«ã™ã‚‹âœ¨</div>
        <p style="font-size: 0.8rem; line-height: 1.4; margin: 10px 0;">æœ‰æ–™ç‰ˆã‚’è³¼å…¥ã™ã‚‹ã¨æ˜æ—¥ã‚’å¾…ãŸãšã«<b>ä»Šã™ãã«ã‚¬ãƒãƒ£</b>ã§ãã‚‹ã‚ˆ</p>
        <div class="premium-actions">
            <a href="https://mirucorn.stores.jp/items/6961b5431886ebdd3baee58d" class="premium-btn">ãƒŸãƒ«ã‚³ã‚¤ãƒ³ã‚’å¢—ã‚„ã™ğŸ¦„ğŸ’</a>
            <button onclick="enterSecretCode()" class="premium-btn code-btn">ç§˜å¯†ã®ã‚³ãƒ¼ãƒ‰å…¥åŠ›</button>
        </div>
    </div>

    <div id="gacha-container">
        <img src="images/gacha.png" id="gacha-machine">
        <div id="capsule1" class="capsule"><div class="capsule-inner"><div class="capsule-top"></div><div class="capsule-bottom"></div></div></div>
        <div id="capsule2" class="capsule"><div class="capsule-inner"><div class="capsule-top"></div><div class="capsule-bottom"></div></div></div>
    </div>

    <button class="btn" id="play-btn" onclick="playGacha()">ã‚¬ãƒãƒ£ã‚’å›ã™</button>

    <div id="result-overlay">
        <div class="cards-container">
            <div class="card-reveal" id="card-box1"></div>
            <div class="card-reveal" id="card-box2"></div>
        </div>
        <div id="detail">
            <span class="miruko-status" id="miruko-status">ãƒŸãƒ«ã‚³ãŒå ã„ä¸­â€¦ğŸ¦„âœ¨</span>
            <div id="miruko-msg"></div>
            <button id="close-res-btn" onclick="closeResult()" style="width:100%; margin-top:20px; background:#ff69b4; color:white; border:none; padding:12px; border-radius:15px; font-weight:bold; cursor:pointer; display:none;">ã‚ã‚ŠãŒã¨ã†ï¼</button>
        </div>
    </div>

    <div id="collection-overlay">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2 style="color:var(--gold); font-size:1.1rem; margin:0;">ğŸ“–ãƒŸãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ğŸ“–</h2>
            <div id="collection-count" style="font-size:0.8rem; color:var(--gold);">0/79 ç™»éŒ²æ¸ˆã¿</div>
            <button onclick="closeCollection()" style="background:none; border:1px solid var(--gold); color:var(--gold); padding:5px 15px; border-radius:15px;">é–‰ã˜ã‚‹</button>
        </div>

        <div class="comp-area">
            <div style="font-size:0.75rem;">å…¨ã¦ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã—ãŸã‚‰é­”æ³•ã®æ‰‰ãŒé–‹ãã‚ˆâœ¨</div>
            <button id="door-btn" class="door-btn" onclick="openSecret()">æ‰‰ã‚’é–‹ã(ä¸­ã«å…¥ã£ãŸã‚‰é•·æŠ¼ã—ã—ã¦å®ç‰©ã‚’ã‚²ãƒƒãƒˆã—ã¦ã­)</button>
        </div>
        <div class="backup-section" style="margin-top: 30px; padding: 15px; border-top: 1px dashed #555; text-align: center;">
            <p style="font-size: 0.8rem; color: #ffca28;">ğŸ¦„ã€ãƒŸãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¿å­˜ã™ã‚‹(å¼•ãç¶™ãè¨­å®š)ã€‘<br>ä¸‡ãŒä¸€ã®æ™‚ã‚‚å®‰å¿ƒï¼ã“ã¾ã‚ã«ã‚»ãƒ¼ãƒ–ã—ã¦ãŠã“ã†âœ¨</p>
            <div style="display: flex; justify-content: center; gap: 10px; margin-top: 10px;">
                <button onclick="exportData()" style="padding: 8px 12px; background: #5c4b8a; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.75rem;">
                    åˆè¨€è‘‰ã‚’ç™ºè¡Œ
                </button>
                <button onclick="importData()" style="padding: 8px 12px; background: #4b8a5c; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.75rem;">
                    åˆè¨€è‘‰ã‚’å…¥åŠ›
                </button>
            </div>
        </div>

        <div class="collection-nav">
            <button class="nav-btn active" onclick="filterCollection('all', this)">å…¨éƒ¨</button>
            <button class="nav-btn" onclick="filterCollection('major', this)">å¤§ã‚¢ãƒ«ã‚«ãƒŠ</button>
            <button class="nav-btn" onclick="filterCollection('wands', this)">ãƒ¯ãƒ³ãƒ‰</button>
            <button class="nav-btn" onclick="filterCollection('cups', this)">ã‚«ãƒƒãƒ—</button>
            <button class="nav-btn" onclick="filterCollection('swords', this)">ã‚½ãƒ¼ãƒ‰</button>
            <button class="nav-btn" onclick="filterCollection('pentacles', this)">ãƒšãƒ³ã‚¿ã‚¯ãƒ«</button>
            <button class="nav-btn" onclick="filterCollection('secret', this)">ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ</button>
        </div>
        <div class="collection-grid" id="collection-grid"></div>
    </div>

    <div id="card-3d-overlay" onclick="close3D()">
        <div id="card-3d-container" onclick="event.stopPropagation()">
            <div class="card-face card-front"><img id="card-3d-img" src=""></div>
            <div class="card-face card-back"><img src="images/back.png"></div>
        </div>
        <p style="position:absolute; bottom:50px; color:white; font-size:0.8rem;">æŒ‡ã§ãã‚‹ãã‚‹å›ã›ã‚‹ã‚ˆï¼ã‚«ãƒ¼ãƒ‰ä»¥å¤–ã‚’æŠ¼ã™ã¨æˆ»ã‚‹ã‚ˆ</p>
    </div>

    <div id="secret-modal" onclick="this.style.display='none'">
        <div style="color:var(--gold); font-weight:bold; margin-bottom:15px;">ğŸ‰ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆãŠã‚ã§ã¨ã†ï¼ğŸ‰</div>
        <img src="images/secret.png" style="width:100%; max-width:400px; border-radius:20px; box-shadow: 0 0 30px var(--gold);">
        <p style="color:white; font-size:0.8rem; margin-top:20px; text-align:center;">ç”»åƒã‚’é•·æŠ¼ã—ã—ã¦<br>å¾…ã¡å—ã‘ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã­ğŸ¦„âœ¨</p>
        <button style="margin-top:20px; background:none; border:1px solid white; color:white; padding:10px 30px; border-radius:20px;">é–‰ã˜ã‚‹</button>
    </div>

    <audio id="bgm" loop preload="auto">
        <source src="sounds/bgm.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ç§˜å¯†ã®ã‚³ãƒ¼ãƒ‰å…¥åŠ›ç”¨é–¢æ•°
        function enterSecretCode() {
            const code = prompt("ç§˜å¯†ã®åˆè¨€è‘‰ã‚’å…¥åŠ›ã—ã¦ã­ğŸ¦„");
            // ä¾‹ã¨ã—ã¦ã€Œmiru2024ã€ã¨ã„ã†ã‚³ãƒ¼ãƒ‰ã§ã‚³ã‚¤ãƒ³ã‚’100æšã«ã™ã‚‹è¨­å®š
            if (code === "miru2024") {
                coins = 100;
                localStorage.setItem('miruCoins', coins);
                updateUI();
                alert("âœ¨é­”æ³•ã®åŠ›ãŒå®¿ã£ãŸã‚ˆï¼ãƒŸãƒ«ã‚³ã‚¤ãƒ³ãŒå¢—ãˆã¾ã—ãŸâœ¨");
            } else if (code !== null) {
                alert("æ®‹å¿µã€åˆè¨€è‘‰ãŒé•ã†ã¿ãŸã„â€¦ğŸ˜¢");
            }
        }

        const loveAdvices = [
            "ğŸ¦„ã€Œã¾ãšã¯è‡ªåˆ†ã‚’ãŸã£ã·ã‚Šç”˜ã‚„ã‹ã—ã¦ã€‚ã‚ãªãŸãŒã”æ©Ÿå«Œãªã‚‰ã€æ‹ã‚‚å‹æ‰‹ã«ã†ã¾ãã„ãã‚ˆâœ¨ã€",
            "ğŸ’–ã€Œæ·±å‘¼å¸ã—ã¦ã¿ã¦ã€‚ãã®ãƒ‰ã‚­ãƒ‰ã‚­ã¯ã€æœªæ¥ã®å¹¸ã›ã‚’äºˆæ„Ÿã—ã¦ã‚‹ã‚µã‚¤ãƒ³ã‹ã‚‚ï¼ã€",
            "ğŸ’ã€Œã‚ãªãŸã¯ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ã®åŸçŸ³ã ã‚ˆã€‚è‡ªä¿¡ã‚’æŒã£ã¦ã€ã‚­ãƒ©ã‚­ãƒ©ã®ç¬‘é¡”ã‚’å¿˜ã‚Œãªã„ã§ã­âœ¨ã€",
            "ğŸ¬ã€Œæ‹ã¯ç”˜ã„ã ã‘ã˜ã‚ƒãªã„ã‘ã©ã€è‹¦ã„ã®ã‚‚ã‚¹ãƒ‘ã‚¤ã‚¹ã€‚å…¨éƒ¨ã²ã£ãã‚‹ã‚ã¦æ¥½ã—ã‚“ã˜ã‚ƒãŠã†ï¼ã€",
            "ğŸ’Œã€Œæƒ³ã„ã‚’è¨€è‘‰ã«ã™ã‚‹ã®ãŒæ¥ãšã‹ã—ã„æ™‚ã¯ã€é¡ã«å‘ã‹ã£ã¦ç·´ç¿’ã—ã¦ã¿ã¦ã€‚é­”æ³•ãŒå®¿ã‚‹ã‚ˆğŸª„ã€",
            "ğŸŒ™ã€Œå¤œæ›´ã‹ã—ã—ã¦æ‚©ã¿ã™ãã¡ã‚ƒãƒ€ãƒ¡ã€‚æ—©ãå¯ã¦ã€å¤¢ã®ä¸­ã§ãƒŸãƒ«ã‚³ã¨ä½œæˆ¦ä¼šè­°ã—ã‚ˆã†ğŸ¦„ã€",
            "ğŸŒ¸ã€Œã‚†ã£ãã‚Šã€ã‚†ã£ãã‚Šã§å¤§ä¸ˆå¤«ã€‚è•¾ï¼ˆã¤ã¼ã¿ï¼‰ãŒèŠ±é–‹ãã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯äººãã‚Œãã‚Œã ã‚ˆã€‚ã€",
            "ğŸˆã€Œé‡ãŸã„ä¸å®‰ã¯ç©ºã«é£›ã°ã—ã¡ã‚ƒãˆï¼å¿ƒã‚’ã‚‚ã£ã¨è»½ãã™ã‚Œã°ã€æ‹ã®é‹æ°—ã‚‚ãµã‚ã£ã¨æµ®ãã‚ˆã€‚ã€",
            "ğŸ§¸ã€Œè‡ªåˆ†ã‚’ä¸€ç•ªã«æ„›ã—ã¦ã‚ã’ã¦ã€‚ã‚ãªãŸãŒã‚ãªãŸã‚’å¥½ãã«ãªã‚Œã°ã€ä¸–ç•Œä¸­ãŒã‚ãªãŸã«æ‹ã‚’ã™ã‚‹ã‚ˆâœ¨ã€",
            "ğŸ€ã€Œå°ã•ãªã€å¬‰ã—ã„ã€ã‚’è¦‹ã¤ã‘ã‚‹åäººã«ãªã£ã¦ã€‚å¹¸ã›ã¯ã€è¦‹ã¤ã‘ã¦ãã‚Œã‚‹äººã®æ‰€ã«é›†ã¾ã‚‹ã‚“ã ã‚ˆã€‚ã€",
            "ğŸ ã€Œæ‹ã¯æ¥½ã—ã‚“ã ã‚‚ã‚“å‹ã¡ï¼éŠåœ’åœ°ã«ã„ã‚‹æ™‚ã¿ãŸã„ã«ã€ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹æ–¹ã¸é€²ã‚“ã§ã¿ã¦ğŸŒˆã€",
            "ğŸšã€Œç›¸æ‰‹ã®é¡”è‰²ã‚’ã†ã‹ãŒã„ã™ããªã„ã§ã€‚ã‚ãªãŸã®å¿ƒã®å£°ã‚’ã€ä¸€ç•ªå¤§åˆ‡ã«ã—ã¦ã‚ã’ã‚ˆã†ã­ã€‚ã€",
            "ğŸ•¯ï¸ã€Œå¿ƒãŒã–ã‚ã–ã‚ã™ã‚‹æ™‚ã¯ã€ãŠæ°—ã«å…¥ã‚Šã®é¦™ã‚Šã«åŒ…ã¾ã‚Œã¦ã€‚å„ªã—ã„æ°—æŒã¡ãŒæ‹ã‚’å‘¼ã³å¯„ã›ã‚‹ã‚ˆã€‚ã€",
            "âœ¨ã€Œä»Šã®ã‚ãªãŸã¯ã€ä¸–ç•Œã§ä¸€äººã ã‘ã®ç‰¹åˆ¥ãªå­˜åœ¨ã€‚èª°ã‹ã¨æ¯”ã¹ãªãã¦ã„ã„ã‚“ã ã‚ˆã€çµ¶å¯¾ï¼ã€",
            "ğŸ¦„ã€ŒãƒŸãƒ«ã‚³ãŒè¦‹ã¦ã‚‹ã‚ˆã€‚ã‚ãªãŸã¯ã¡ã‚ƒã‚“ã¨é ‘å¼µã£ã¦ã‚‹ã€‚ãŸã¾ã«ã¯è‚©ã®åŠ›ã‚’æŠœã„ã¦ã„ã„ã‚“ã ã‚ˆğŸ’–ã€",
            "ğŸƒã€Œéå»ã®å¤±æ•—ã¯ã€ä»Šã®ã‚ãªãŸãŒã‚‚ã£ã¨è¼ããŸã‚ã®è‚¥æ–™ã€‚ã‚‚ã†æ°—ã«ã—ãªãã¦å¤§ä¸ˆå¤«ã ã‚ˆï¼ã€",
            "ğŸ¹ã€Œæ‹ã®æ¸©åº¦ã‚’ä¸Šã’ã™ããªã„ã§ã€‚ã¡ã‚‡ã£ã¨æ¶¼ã—ã„ãã‚‰ã„ã®å¿ƒã®ä½™è£•ãŒã€ç›¸æ‰‹ã‚’æƒ¹ãã¤ã‘ã‚‹ã‚ˆã€‚ã€",
            "ğŸ¹ã€Œå‹‡æ°—ãŒå‡ºãªã„æ™‚ã¯ã€ãƒŸãƒ«ã‚³ãŒèƒŒä¸­ã‚’ãƒãƒ³ã£ã¦æŠ¼ã—ã¦ã‚ã’ã‚‹ï¼å¤§ä¸ˆå¤«ã€ã„ã£ã¦ã‚‰ã£ã—ã‚ƒã„âœ¨ã€",
            "åŠ‡çš„ãªæƒ³ã„ã¯ã€å¿…ãšã©ã“ã‹ã«å±Šãã‹ã‚‰ã€‚",
            "ğŸ’ã€Œæœ€é«˜ã®å¹¸ã›ã‚’äºˆç´„ã—ã¨ã„ãŸã‚ˆï¼ã‚ã¨ã¯ã€ã‚ãªãŸãŒç¬‘é¡”ã§å—ã‘å–ã‚‹ã ã‘ãªã‚“ã ã‹ã‚‰ã­ğŸ¦„ğŸ’ã€"
        ];

        // å ã„ãƒ‡ãƒ¼ã‚¿ã¯å¤‰æ›´ãªã—ã®ãŸã‚çœç•¥ã›ãšä¿æŒ
        const tarotData = [
            { id: 0, group: "major", name: "0. FOOL", desc: "ä»Šã¯å®Œç’§ã˜ã‚ƒãªãã¦ã„ã„æ‹âœ¨å…ˆã®ä¸å®‰ã‚ˆã‚Šã€Œå¥½ãã€ã¨ã„ã†ç´”ç²‹ãªæ°—æŒã¡ã‚’ä¿¡ã˜ã¦ã€‚å‹‡æ°—ã‚ã‚‹ä¸€æ­©ãŒã€æ€ã„ãŒã‘ãªã„å¹¸ã›ã«ç¹‹ãŒã‚Šã¾ã™ğŸŒˆ", img: "images/0.png" },
            { id: 1, group: "major", name: "1. MAGICIAN", desc: "ã‚ãªãŸã®æƒ³ã„ã«ã¯ç¾å®Ÿã‚’å‹•ã‹ã™åŠ›ãŒã‚ã‚Šã¾ã™ğŸ’«é§†ã‘å¼•ãã‚ˆã‚Šç´ ç›´ãªè¨€è‘‰ã‚’ã€‚ä¼ãˆã‚‹ã“ã¨ã§ã€æ‹ã¯ã¯ã£ãã‚Šã¨å½¢ã‚’æŒã¡å§‹ã‚ã¾ã™ğŸ’Œ", img: "images/1.png" },
            { id: 2, group: "major", name: "2. HIGH PRIESTESS", desc: "ç›¸æ‰‹ã®æœ¬å¿ƒã¯è¨€è‘‰ã‚ˆã‚Šæ…‹åº¦ã«è¡¨ã‚Œã¦ã„ã¾ã™ğŸŒ™ç„¦ã‚‰ãšé™ã‹ã«è¦‹å®ˆã£ã¦ã€‚ã‚ãªãŸã®ç›´æ„Ÿã¯ä»Šã€ã¨ã¦ã‚‚å†´ãˆã¦ã„ã¾ã™ğŸ•Šï¸", img: "images/2.png" },
            { id: 3, group: "major", name: "3. EMPRESS", desc: "æ„›ã•ã‚Œã‚‹ã“ã¨ã‚’é æ…®ã—ãªã„ã§ğŸ’å—ã‘å–ã‚‹è¦šæ‚ŸãŒã§ããŸæ™‚ã€æ‹ã¯è‡ªç„¶ã¨æº€ãŸã•ã‚Œã¦ã„ãã¾ã™ã€‚è‡ªåˆ†ã‚’ç”˜ã‚„ã‹ã™ã®ã‚‚å¤§åˆ‡ãªæ„›ğŸ’–", img: "images/3.png" },
            { id: 4, group: "major", name: "4. EMPEROR", desc: "å®‰å¿ƒã§ãã‚‹é–¢ä¿‚ã¯è‡ªåˆ†è»¸ã‹ã‚‰âœ¨ç„¡ç†ã«åˆã‚ã›ãšã€è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã™ã‚‹å§¿å‹¢ãŒç›¸æ‰‹ã®ä¿¡é ¼ã‚’è‚²ã¦ã¾ã™ğŸ°", img: "images/4.png" },
            { id: 5, group: "major", name: "5. HIEROPHANT", desc: "èª å®Ÿãªæƒ³ã„ã¯æ™‚é–“ã‚’ã‹ã‘ã¦å®Ÿã‚’çµã³ã¾ã™ğŸŒ¿å‘¨å›²ã®å¸¸è­˜ã‚ˆã‚Šã€å¿ƒãŒã€Œæ­£ã—ã„ã€ã¨æ„Ÿã˜ã‚‹é¸æŠã‚’ğŸ¤", img: "images/5.png" },
            { id: 6, group: "major", name: "6. LOVERS", desc: "è¿·ã„ã¯æœ¬æ°—ã®è¨¼æ‹ ğŸ’å¿ƒãŒå¼·ãæƒ¹ã‹ã‚Œã‚‹æ–¹ã‚’é¸ã‚“ã§ã€‚é¸æŠã—ãŸå…ˆã§ã€ã‚ãªãŸã®æ‹ã¯æ·±ã¾ã£ã¦ã„ãã¾ã™âœ¨", img: "images/6.png" },
            { id: 7, group: "major", name: "7. CHARIOT", desc: "ä»Šã¯å¾…ã¤ã‚ˆã‚Šå‹•ãæ™‚ğŸš€å°ã•ãªè¡Œå‹•ãŒå¤§ããªé€²å±•ã«ã€‚å‹‡æ°—ã‚’å‡ºã—ãŸã‚ãªãŸã«ã€æ‹ã¯å‘³æ–¹ã—ã¾ã™ğŸ”¥", img: "images/7.png" },
            { id: 8, group: "major", name: "8. STRENGTH", desc: "å„ªã—ã•ã¯æœ€å¤§ã®å¼·ã•ğŸ¦ç„¡ç†ã«é ‘å¼µã‚‰ãªãã¦å¤§ä¸ˆå¤«ã€‚ã‚ãªãŸã®æ€ã„ã‚„ã‚ŠãŒã€ç›¸æ‰‹ã®å¿ƒã‚’è‡ªç„¶ã¨é–‹ãã¾ã™ğŸ’—", img: "images/8.png" },
            { id: 9, group: "major", name: "9. HERMIT", desc: "ä¸€äººã®æ™‚é–“ã¯æ‹ã‚’æ•´ãˆã‚‹ãŸã‚ğŸŒ™é™ã‹ã«å‘ãåˆã†ã“ã¨ã§ã€æœ¬å½“ã«æœ›ã‚€æ„›ãŒè¦‹ãˆã¦ãã¾ã™ğŸ•¯ï¸", img: "images/9.png" },
            { id: 10, group: "major", name: "10. WHEEL OF FORTUNE", desc: "æµã‚ŒãŒå¤§ããå‹•ãæ™‚ğŸ¡å¶ç„¶ã®å‡ºæ¥äº‹ã«ã“ãæ„å‘³ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒ£ãƒ³ã‚¹ã¯ã™ã§ã«å·¡ã£ã¦ãã¦ã„ã¾ã™âœ¨", img: "images/10.png" },
            { id: 11, group: "major", name: "11. JUSTICE", desc: "æœ¬éŸ³ã¨è¡Œå‹•ã‚’ä¸€è‡´ã•ã›ã¦âš–ï¸èª å®Ÿãªé¸æŠã¯ã€å¾Œæ‚”ã—ãªã„æ‹ã‚’å¼•ãå¯„ã›ã¾ã™ğŸ¤", img: "images/11.png" },
            { id: 12, group: "major", name: "12. HANGED MAN", desc: "ä»Šã¯å‹•ã‹ãªãã¦ã‚‚å¤§ä¸ˆå¤«ğŸŒ±å¾…ã¤æ™‚é–“ãŒæ„›ã‚’è‚²ã¦ã¦ã„ã¾ã™ã€‚è¦‹æ–¹ã‚’å¤‰ãˆã‚‹ã¨ç­”ãˆãŒè¦‹ãˆã¦ãã‚‹âœ¨", img: "images/12.png" },
            { id: 13, group: "major", name: "13. DEATH", desc: "çµ‚ã‚ã‚Šã¯æ–°ã—ã„å§‹ã¾ã‚ŠğŸ–¤æ‰‹æ”¾ã—ãŸå…ˆã«ã€ã‚‚ã£ã¨å¹¸ã›ãªæ‹ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ğŸŒ¹", img: "images/13.png" },
            { id: 14, group: "major", name: "14. TEMPERANCE", desc: "ç„¡ç†ã®ãªã„é–¢ä¿‚ãŒé•·ç¶šãğŸ’æ­©å¹…ã‚’åˆã‚ã›ã‚‹ã“ã¨ã§ã€å¿ƒåœ°ã‚ˆã„æ„›ã®å½¢ãŒæ•´ã„ã¾ã™ğŸŒ¸", img: "images/14.png" },
            { id: 15, group: "major", name: "15. DEVIL", desc: "ãã‚Œã¯æ„›ï¼Ÿãã‚Œã¨ã‚‚åŸ·ç€ï¼ŸğŸ•¸ï¸è‹¦ã—ããªã‚‹æ‹ã¯è¦‹ç›´ã—ã¦ã€‚è‡ªç”±ãªå¿ƒãŒæœ¬å½“ã®å¹¸ã›ã‚’å‘¼ã³ã¾ã™âœ¨", img: "images/15.png" },
            { id: 16, group: "major", name: "16. TOWER", desc: "è¡æ’ƒã¯çœŸå®Ÿã‚’çŸ¥ã‚‹ãŸã‚âš¡å£Šã‚ŒãŸå¹»æƒ³ã®å…ˆã«ã€å½ã‚Šã®ãªã„æ„›ãŒå¾…ã£ã¦ã„ã¾ã™ğŸŒˆ", img: "images/16.png" },
            { id: 17, group: "major", name: "17. STAR", desc: "å¸Œæœ›ã‚’æ‰‹æ”¾ã•ãªã„ã§ğŸŒŸãã®æ‹ã¯ã¾ã å¯èƒ½æ€§ã«æº€ã¡ã¦ã„ã¾ã™ã€‚ä¿¡ã˜ã‚‹å¿ƒãŒæœªæ¥ã‚’ç…§ã‚‰ã—ã¾ã™ğŸ’«", img: "images/17.png" },
            { id: 18, group: "major", name: "18. MOON", desc: "ä¸å®‰ã¯æ€ã„è¾¼ã¿ã‹ã‚‚ğŸŒ™ç¢ºã‹ã‚ã‚‹å‹‡æ°—ã‚’ã€‚çœŸå®Ÿã‚’çŸ¥ã‚‹ã“ã¨ã§ã€å¿ƒã¯é™ã‹ã«è½ã¡ç€ãã¾ã™ğŸ¤", img: "images/18.png" },
            { id: 19, group: "major", name: "19. SUN", desc: "ç´ ç›´ãªç¬‘é¡”ãŒæ‹ã‚’è¼ã‹ã›ã¾ã™â˜€ï¸å–œã³ã‚’åˆ†ã‹ã¡åˆãˆã‚‹é–¢ä¿‚ãŒã€ã‚ãªãŸã‚’å¹¸ã›ã«ã—ã¾ã™ğŸ’›", img: "images/19.png" },
            { id: 20, group: "major", name: "20. JUDGEMENT", desc: "éå»ã®æ‹ã«ç­”ãˆãŒå‡ºã‚‹æ™‚ğŸ“¯è¨±ã—ã¨æ°—ã¥ããŒã€æ–°ã—ã„æ„›ã¸ã®æ‰‰ã‚’é–‹ãã¾ã™âœ¨", img: "images/20.png" },
            { id: 21, group: "major", name: "21. WORLD", desc: "å¿ƒã‹ã‚‰æº€ãŸã•ã‚Œã‚‹æ‹ãŒå®ŒæˆğŸ’ã‚ã‚Šã®ã¾ã¾ã®ã‚ãªãŸã§ã€æ„›ã•ã‚Œã‚‹å¹¸ã›ã‚’å—ã‘å–ã£ã¦ğŸŒˆ", img: "images/21.png" },
            { id: 22, group: "wands", name: "WANDS ACE", desc: "æ‹ã®æƒ…ç†±ãŒç€ç«ã™ã‚‹æ™‚ğŸ”¥ä¸€æ°—ã«è·é›¢ãŒç¸®ã¾ã‚‹ãƒãƒ£ãƒ³ã‚¹ã€‚ãƒ¯ã‚¯ãƒ¯ã‚¯ã«å¾“ã£ã¦é€²ã‚“ã§âœ¨", img: "images/22.png" },
            { id: 23, group: "wands", name: "WANDS 2", desc: "æ¬¡ã®ä¸€æ­©ã‚’è€ƒãˆã‚‹æ™‚ğŸŒæœªæ¥ã¸ã®æœŸå¾…ãŒé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚ç†æƒ³ã®æ‹ã‚’æãå§‹ã‚ã¦âœ¨", img: "images/23.png" },
            { id: 24, group: "wands", name: "WANDS 3", desc: "æ‹ã®å¯èƒ½æ€§ãŒåºƒãŒã‚Šã¾ã™â›µç€å®Ÿã«é€²å±•ã—ã¦ã„ã‚‹è¨¼æ‹ ã€‚è‡ªä¿¡ã‚’æŒã£ã¦è¦‹å®ˆã£ã¦ğŸŒˆ", img: "images/24.png" },
            { id: 25, group: "wands", name: "WANDS 4", desc: "å¿ƒå®‰ã‚‰ãå¹³å’Œãªæ™‚é–“ğŸ¡äºŒäººã®åœŸå°ãŒå›ºã¾ã‚Šã€å®‰å¿ƒã§ãã‚‹é–¢ä¿‚ã¸ã¨æˆé•·ã—ã¾ã™ğŸ’", img: "images/25.png" },
            { id: 26, group: "wands", name: "WANDS 5", desc: "å°ã•ãªã¶ã¤ã‹ã‚Šåˆã„ã¯æˆé•·ã®ã‚µã‚¤ãƒ³âš¡æœ¬éŸ³ã§å‘ãåˆã†ã“ã¨ã§æ„›ãŒæ·±ã¾ã‚Šã¾ã™âœ¨", img: "images/26.png" },
            { id: 27, group: "wands", name: "WANDS 6", desc: "æ‹ã®å‹åˆ©ã¯ã‚‚ã†ã™ãğŸ‰å‘¨å›²ã‚‚èªã‚ã‚‹ã‚ˆã†ãªå¬‰ã—ã„é€²å±•ãŒæœŸå¾…ã§ãã‚‹ã¨ãã ã‚ˆğŸ†", img: "images/27.png" },
            { id: 28, group: "wands", name: "WANDS 7", desc: "è‡ªåˆ†ã®ç«‹å ´ã‚„æ‹ã‚’å®ˆã‚ŠæŠœãæ™‚ğŸ›¡ï¸ã‚ãªãŸã®å¼·ã„æƒ³ã„ãŒé‹å‘½ã‚’åˆ‡ã‚Šé–‹ãã¾ã™ğŸ’ª", img: "images/28.png" },
            { id: 29, group: "wands", name: "WANDS 8", desc: "æ€¥å±•é–‹ã®ã‚µã‚¤ãƒ³ğŸ“©ãƒˆãƒ³ãƒˆãƒ³æ‹å­ã«è©±ãŒé€²ã‚€äºˆæ„Ÿã€‚æµã‚Œã‚’é€ƒã•ãšä¹—ã£ã¦ğŸ’¨", img: "images/29.png" },
            { id: 30, group: "wands", name: "WANDS 9", desc: "è¸ã‚“å¼µã‚Šã©ã“ã‚ğŸš§å°‘ã—ç–²ã‚Œæ°—å‘³ã‹ã‚‚ã€‚ã§ã‚‚ã‚´ãƒ¼ãƒ«ã¯ç›®ã®å‰ã ã‹ã‚‰è«¦ã‚ãªã„ã§âœ¨", img: "images/30.png" },
            { id: 31, group: "wands", name: "WANDS 10", desc: "æŠ±ãˆè¾¼ã¿ã™ãã‹ã‚‚ğŸ’¦æ‹ã®è²¬ä»»ã‚’ä¸€äººã§è² ã‚ãªã„ã§ã€‚ã‚‚ã£ã¨ç›¸æ‰‹ã‚’é ¼ã£ã¦ã¿ã¦ğŸ¤", img: "images/31.png" },
            { id: 32, group: "wands", name: "WANDS PAGE", desc: "ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªçŸ¥ã‚‰ã›âœ¨ç´”ç²‹ãªå¥½å¥‡å¿ƒãŒæ‹ã®æ–°ã—ã„æ‰‰ã‚’é–‹ã‘ã¦ãã‚Œã‚‹ã‚ˆãƒ¯ã‚¯ãƒ¯ã‚¯ğŸŒŸ", img: "images/32.png" },
            { id: 33, group: "wands", name: "WANDS KNIGHT", desc: "æƒ…ç†±çš„ã«çªãé€²ã‚€æ™‚ğŸ‡è¿·ã£ã¦ã„ã‚‹æš‡ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç›´æ„Ÿã§é§†ã‘æŠœã‘ã¦ğŸ”¥", img: "images/33.png" },
            { id: 34, group: "wands", name: "WANDS QUEEN", desc: "ã‚ãªãŸã®é­…åŠ›ãŒæº¢ã‚Œã¦ã„ã¾ã™å¤ªé™½ã®ã‚ˆã†ã«æ˜ã‚‹ã„ç¬‘é¡”ãŒç´ æ•µãªäººã‚’æƒ¹ãã¤ã‘ã‚‹ã‚ˆğŸŒ»", img: "images/34.png" },
            { id: 35, group: "wands", name: "WANDS KING", desc: "å¼·ã„ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãŒéµğŸ‘‘ã‚ãªãŸãŒä¸»å°æ¨©ã‚’æ¡ã‚‹ã“ã¨ã§ã€ç†æƒ³ã®æ‹ãŒå®Ÿç¾ã—ã¾ã™âœ¨", img: "images/35.png" },
            { id: 36, group: "cups", name: "CUPS ACE", desc: "æ„›ã®å–œã³ãŒæº¢ã‚Œå‡ºã™æ™‚ğŸ’—æ–°ã—ã„ãƒˆã‚­ãƒ¡ã‚­ã‚„ã€æ·±ã„æ„›æƒ…ã‚’å—ã‘å–ã‚‹æº–å‚™ã‚’ã—ã¦ğŸŒ¸", img: "images/36.png" },
            { id: 37, group: "cups", name: "CUPS 2", desc: "å¿ƒã¨å¿ƒãŒé€šã˜åˆã†æœ€é«˜ã®èª¿å’ŒğŸ’•å¯¾ç­‰ãªé–¢ä¿‚ã§ã€æ„›ã‚’èª“ã„åˆãˆã‚‹å¹¸ã›ãŒè¨ªã‚Œã¾ã™âœ¨", img: "images/37.png" },
            { id: 38, group: "cups", name: "CUPS 3", desc: "å–œã³ã‚’åˆ†ã‹ã¡åˆã†ç¥ç¦ã®æ™‚é–“ğŸ¥‚ä»²é–“ã®ã‚µãƒãƒ¼ãƒˆã‚„æ¥½ã—ã„äº¤æµãŒæ‹ã‚’å¿œæ´ã—ã¾ã™ğŸŒ·", img: "images/38.png" },
            { id: 39, group: "cups", name: "CUPS 4", desc: "å°‘ã—ãƒãƒ³ãƒãƒªæ°—å‘³ï¼ŸğŸ˜Œä¸æº€ã«ç›®ã‚’å‘ã‘ã‚‹ã‚ˆã‚Šã€å·®ã—å‡ºã•ã‚ŒãŸæ„›ã«æ°—ã¥ãã“ã¨ãŒå¤§åˆ‡â˜ï¸", img: "images/39.png" },
            { id: 40, group: "cups", name: "CUPS 5", desc: "å¤±ã£ãŸã‚‚ã®ã«å›šã‚ã‚Œãªã„ã§ğŸŒ§ï¸å¾Œã‚ã‚’å‘ã‘ã°ã€ã¾ã æ®‹ã£ã¦ã„ã‚‹æ¸©ã‹ã„æ„›ã«æ°—ã¥ãã¯ãšğŸŒˆ", img: "images/40.png" },
            { id: 41, group: "cups", name: "CUPS 6", desc: "æ‡ã‹ã—ã„è¨˜æ†¶ãŒå¹¸ã›ã‚’é‹ã³ã¾ã™ğŸ€ç´”ç²‹ã ã£ãŸé ƒã®æ°—æŒã¡ãŒã€ä»Šã®æ‹ã‚’ç™’ã—ã¦ãã‚Œã¾ã™ğŸ’", img: "images/41.png" },
            { id: 42, group: "cups", name: "CUPS 7", desc: "ç†æƒ³ãŒè†¨ã‚‰ã¿ã™ãã¦ã„ã‚‹ã‹ã‚‚â˜ï¸å¤¢ã‚’è¦‹ã‚‹ã®ã‚‚ã„ã„ã‘ã©ã€ä»Šã¯ç¾å®Ÿçš„ãªæ„›ã‚’é¸ã‚“ã§ç¾å®Ÿâœ¨", img: "images/42.png" },
            { id: 43, group: "cups", name: "CUPS 8", desc: "æ¬¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã¸é€²ã‚€æ™‚ğŸŒ™ä»Šã®é–¢ä¿‚ã«åŒºåˆ‡ã‚Šã‚’ã¤ã‘ã¦ã€ã‚ˆã‚Šé«˜ã„æ„›ã‚’æ±‚ã‚ã¦æ—…ç«‹ãŠã†ğŸšª", img: "images/43.png" },
            { id: 44, group: "cups", name: "CUPS 9", desc: "é¡˜ã„ãŒå¶ã†æº€ãŸã•ã‚ŒãŸæ™‚ğŸ’–ã‚ãªãŸã®å¿ƒãŒæº€ãŸã•ã‚Œã‚Œã°ã€æ‹ã‚‚è‡ªç„¶ã¨ã†ã¾ãã„ãã¾ã™âœ¨", img: "images/44.png" },
            { id: 45, group: "cups", name: "CUPS 10", desc: "æœ€é«˜ã®å¹¸ç¦æ„Ÿã€‚å®¶æ—ã‚„å¤§åˆ‡ãªäººã¨ã€ç©ã‚„ã‹ã§æ·±ã„æ„›ã«åŒ…ã¾ã‚Œã‚‹æœªæ¥ãŒå¾…ã£ã¦ã„ã¾ã™ğŸŒˆ", img: "images/45.png" },
            { id: 46, group: "cups", name: "CUPS PAGE", desc: "æ„Ÿå—æ€§ãŒè±Šã‹ã«ãªã£ã¦ã„ã‚‹æ™‚ğŸšç´ ç›´ãªæƒ³ã„ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ã§ã€å¯æ„›ãŒã‚‰ã‚Œã‚‹æ‹ã«ğŸ’“", img: "images/46.png" },
            { id: 47, group: "cups", name: "CUPS KNIGHT", desc: "ãƒ­ãƒãƒ³ãƒãƒƒã‚¯ãªèª˜ã„ã®äºˆæ„ŸğŸŒ¹ç‹å­æ§˜ã®ã‚ˆã†ãªå„ªã—ã„æ„›ãŒã€ã‚ãªãŸã‚’è¿ãˆã«æ¥ã‚‹ã‚ˆâœ¨", img: "images/47.png" },
            { id: 48, group: "cups", name: "CUPS QUEEN", desc: "æ¯æ€§çš„ãªæ·±ã„æ„›ã®åŠ›ğŸŒŠæ…ˆã—ã¿ã®å¿ƒã§æ¥ã™ã‚‹ã“ã¨ã§ã€ç›¸æ‰‹ã®å¿ƒã‚’å®Œå…¨ã«æ´ã‚ã¾ã™ğŸ’—", img: "images/48.png" },
            { id: 49, group: "cups", name: "CUPS KING", desc: "åŒ…å®¹åŠ›ã®ã‚ã‚‹å®‰å®šã—ãŸæ„›ğŸ‘‘æ„Ÿæƒ…ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã€å„ªã—ã•ã§é–¢ä¿‚ã‚’å°ã‘ã‚‹ã¨ãã ã‚ˆâœ¨", img: "images/49.png" },
            { id: 50, group: "swords", name: "SWORDS ACE", desc: "çœŸå®Ÿã‚’è¦‹æ¥µã‚ã‚‹å¼·ã„æ„å¿—âš¡æ›–æ˜§ãªé–¢ä¿‚ã‚’æ–­ã¡åˆ‡ã‚Šã€æ–°ã—ã„é“ã‚’æ±ºæ–­ã™ã‚‹æ™‚ã§ã™åˆ‡ã‚Šæ‹“ãâœ¨", img: "images/50.png" },
            { id: 51, group: "swords", name: "SWORDS 2", desc: "è‘›è—¤ã®ä¸­ã§ãƒãƒ©ãƒ³ã‚¹ã‚’æ¢ã—ã¦âš–ï¸ç„¡ç†ã«å‹•ã‹ãšã€å¿ƒãŒå®šã¾ã‚‹ã®ã‚’ã˜ã£ã¨å¾…ã£ã¦ğŸ¤", img: "images/51.png" },
            { id: 52, group: "swords", name: "SWORDS 3", desc: "å¿ƒãŒç—›ã‚€çµŒé¨“ã¯æµ„åŒ–ã®ãƒ—ãƒ­ã‚»ã‚¹ğŸ’”ã“ã®ç—›ã¿ã‚’çŸ¥ã‚‹ã“ã¨ã§ã€ã‚ãªãŸã¯ã‚‚ã£ã¨å„ªã—ããªã‚Œã‚‹ğŸŒ±", img: "images/52.png" },
            { id: 53, group: "swords", name: "SWORDS 4", desc: "ä¸€æ—¦ä¼‘æ¯ã—ã¦ã€æˆ¦ã†ã®ã‚’ã‚„ã‚ã‚ˆã†ğŸ•Šï¸é™ã‹ãªçœ ã‚ŠãŒã€ã‚ãªãŸã®æ‹ã«æ˜å¿«ãªç­”ãˆã‚’ãã‚Œã‚‹ğŸ«§", img: "images/53.png" },
            { id: 54, group: "swords", name: "SWORDS 5", desc: "å‹ã¡è² ã‘ã«æ„å‘³ã¯ã‚ã‚Šã¾ã›ã‚“âš”ï¸æ„åœ°ã‚’å¼µã‚‹ã‚ˆã‚Šã€å¿ƒã®å¹³å’Œã‚’å®ˆã‚‹é¸æŠã‚’ã—ã‚ˆã†ğŸ¤", img: "images/54.png" },
            { id: 55, group: "swords", name: "SWORDS 6", desc: "å›°é›£ã‹ã‚‰é›¢ã‚Œã€å®‰ã‚‰ãã®åœ°ã¸â›µèª°ã‹ã®åŠ©ã‘ã‚’å€Ÿã‚Šã¦ã€ã‚ˆã‚Šè‰¯ã„ç’°å¢ƒã¸ç§»å‹•ã™ã‚‹æ™‚ã§ã™ğŸŒˆ", img: "images/55.png" },
            { id: 56, group: "swords", name: "SWORDS 7", desc: "é§†ã‘å¼•ãã«ã¯æ…é‡ã«ãªã£ã¦ğŸ•¶ï¸å°æ‰‹å…ˆã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚ˆã‚Šã€èª å®Ÿã•ã§å‹è² ã™ã‚‹æ–¹ãŒå‰âœ¨", img: "images/56.png" },
            { id: 57, group: "swords", name: "SWORDS 8", desc: "è‡ªåˆ†ã§è‡ªåˆ†ã‚’é–‰ã˜è¾¼ã‚ã¦ã„ãªã„ï¼Ÿâ›“ï¸ç›®éš ã—ã‚’å¤–ã›ã°ã€é€ƒã’é“ã¯ã„ãã‚‰ã§ã‚‚ã‚ã‚‹ã‚ˆğŸŒ¬ï¸", img: "images/57.png" },
            { id: 58, group: "swords", name: "SWORDS 9", desc: "è€ƒãˆã™ãã¦çœ ã‚Œãªã„å¤œğŸŒ™ä¸å®‰ã®æ­£ä½“ã¯å¦„æœ›ã‹ã‚‚ã€‚ç¾å®Ÿã¯ã‚‚ã£ã¨æ˜ã‚‹ã„ã‚ˆå¤§ä¸ˆå¤«ğŸ«§", img: "images/58.png" },
            { id: 59, group: "swords", name: "SWORDS 10", desc: "ã“ã‚Œä»¥ä¸Šã®ä¸å¹¸ã¯ãªã„ã€æœ€æ‚ªæœŸã®è„±å‡ºğŸŒ‘å¤œæ˜ã‘ã¯ã™ããã“ã€‚æ–°ã—ã„è‡ªåˆ†ã«ç”Ÿã¾ã‚Œå¤‰ã‚ã‚ã†ğŸŒ…ğŸŒ…", img: "images/59.png" },
            { id: 60, group: "swords", name: "SWORDS PAGE", desc: "è­¦æˆ’å¿ƒã¨å¥½å¥‡æ€§ãŒå…¥ã‚Šæ··ã˜ã‚‹æ™‚ğŸ‘€æ…é‡ã«æ§˜å­ã‚’è¦‹ãªãŒã‚‰ã€æœ‰åˆ©ãªãƒãƒ£ãƒ³ã‚¹ã‚’ä¼ºã£ã¦âœ¨", img: "images/60.png" },
            { id: 61, group: "swords", name: "SWORDS KNIGHT", desc: "çŒ›ã‚¹ãƒ”ãƒ¼ãƒ‰ã§äº‹æ…‹ãŒå‹•ãã¾ã™âš¡è¨€è‘‰ãŒåˆƒã«ãªã‚‰ãªã„ã‚ˆã†ã€å†·é™ã•ã‚’å¿˜ã‚Œãªã„ã§ğŸ¤", img: "images/61.png" },
            { id: 62, group: "swords", name: "SWORDS QUEEN", desc: "çŸ¥çš„ãªè‡ªç«‹å¿ƒã§æ‹ã‚’åˆ‡ã‚Šç››ã‚ŠğŸ‘‘å³ã—ã„ã‘ã‚Œã©æ­£ã—ã„åˆ¤æ–­ãŒã€ã‚ãªãŸã‚’å¹¸ã›ã«ã™ã‚‹âœ¨", img: "images/62.png" },
            { id: 63, group: "swords", name: "SWORDS KING", desc: "å†·é™ã§å…¬æ­£ãªæ„›ã®è£ãğŸ§ æ„Ÿæƒ…ã«æµã•ã‚Œãšã€çœŸå®Ÿã«åŸºã¥ã„ã¦é–¢ä¿‚ã‚’ç¯‰ã‘ã‚‹æ™‚ã§ã™âœ¨", img: "images/63.png" },
            { id: 64, group: "pentacles", name: "PENTACLES ACE", desc: "ç¾å®Ÿçš„ãªå¹¸ã›ã®ç¨®ãŒã¾ã‹ã‚Œã¾ã™ğŸŒ±çµå©šã‚„å°†æ¥ã‚’è¦‹æ®ãˆãŸã€ç¢ºã‹ãªæ„›ã®å§‹ã¾ã‚Šã§ã™âœ¨", img: "images/64.png" },
            { id: 65, group: "pentacles", name: "PENTACLES 2", desc: "å™¨ç”¨ã«æ‹ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«âš–ï¸å¤‰åŒ–ã‚’æ¥½ã—ã¿ãªãŒã‚‰ã€äºŒäººã®ãƒãƒ©ãƒ³ã‚¹ã‚’èª¿æ•´ã—ã¦ğŸ¤", img: "images/65.png" },
            { id: 66, group: "pentacles", name: "PENTACLES 3", desc: "ç€å®Ÿãªå”åŠ›é–¢ä¿‚ã‚’ç¯‰ãæ™‚ğŸ”§å…±é€šã®ç›®æ¨™ã‚’æŒã¤ã“ã¨ã§ã€çµ†ãŒã‚ˆã‚Šå¼·å›ºã«ãªã‚Šã¾ã™âœ¨", img: "images/66.png" },
            { id: 67, group: "pentacles", name: "PENTACLES 4", desc: "ç‹¬å æ¬²ãŒå¼·ããªã£ã¦ã„ã‚‹ã‹ã‚‚ğŸ”’æ¡ã‚Šã—ã‚ã™ããšã€å¿ƒã‚’é–‹ã„ã¦ç›¸æ‰‹ã‚’ä¿¡ã˜ã¦ğŸ’«", img: "images/67.png" },
            { id: 68, group: "pentacles", name: "PENTACLES 5", desc: "å³ã—ã„çŠ¶æ³ã«è² ã‘ãªã„ã§â„ï¸å­¤ç‹¬ã‚’æ„Ÿã˜ã¦ã‚‚ã€æ•‘ã„ã®æ‰‹ã¯å¿…ãšè¿‘ãã«ã‚ã‚Šã¾ã™ğŸ¤", img: "images/68.png" },
            { id: 69, group: "pentacles", name: "PENTACLES 6", desc: "æ…ˆæ‚²æ·±ãã€å¯¾ç­‰ãªæ„›ã®ã‚®ãƒ–ï¼†ãƒ†ã‚¤ã‚¯ğŸå„ªã—ã•ã‚’å¾ªç’°ã•ã›ã‚‹ã“ã¨ã§ã€æ„›ãŒå€å¢—ã—ã¾ã™âœ¨", img: "images/69.png" },
            { id: 70, group: "pentacles", name: "PENTACLES 7", desc: "ä»Šã®æˆæœã‚’è¦‹ç›´ã™åç©«å¾…ã¡â³ç„¦ã‚‰ãšã“ã‚Œã¾ã§ã®åŠªåŠ›ã‚’ä¿¡ã˜ã‚Œã°ã€è±Šã‹ãªå®Ÿã‚ŠãŒè¨ªã‚Œã‚‹ğŸŒ¿", img: "images/70.png" },
            { id: 71, group: "pentacles", name: "PENTACLES 8", desc: "æ‹ã‚‚è‡ªåˆ†ç£¨ãã‚‚ã‚³ãƒ„ã‚³ãƒ„ã¨ğŸ”¨æ—¥ã€…ã®å°ã•ãªç©ã¿é‡ã­ãŒã€å¤§ããªä¿¡é ¼ã¸ã¨å¤‰ã‚ã‚Šã¾ã™âœ¨", img: "images/71.png" },
            { id: 72, group: "pentacles", name: "PENTACLES 9", desc: "æ´—ç·´ã•ã‚ŒãŸé­…åŠ›ã§äººã‚’æƒ¹ãã¤ã‘ã¾ã™ğŸŒ¹è‡ªç«‹ã—ãŸå¤§äººã®æ‹ã‚’æ¥½ã—ã‚ã‚‹å……å®ŸæœŸâœ¨", img: "images/72.png" },
            { id: 73, group: "pentacles", name: "PENTACLES 10", desc: "ç›¤çŸ³ãªç¹æ „ã¨å¹¸ç¦ğŸ¡å—ã‘ç¶™ãŒã‚Œã‚‹ã‚ˆã†ãªã€æ·±ãå®‰å®šã—ãŸæ„›ã®å½¢ãŒå®Œæˆã—ã¾ã™ğŸ’", img: "images/73.png" },
            { id: 74, group: "pentacles", name: "PENTACLES PAGE", desc: "çœŸé¢ç›®ã§èª å®Ÿãªå­¦ã³ã®æ‹ğŸ“˜ã‚†ã£ãã‚Šã¨æ™‚é–“ã‚’ã‹ã‘ã¦ã€ä¾¡å€¤è¦³ã‚’å…±æœ‰ã—ã¦ã„ã“ã†âœ¨", img: "images/74.png" },
            { id: 75, group: "pentacles", name: "PENTACLES KNIGHT", desc: "æ…é‡ã«ã€ã§ã‚‚ç¢ºå®Ÿã«æ„›ã‚’é‹ã³ã¾ã™ğŸ¢ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚ˆã‚Šã‚‚èª å®Ÿã•ã‚’å¤§åˆ‡ã«ã—ã¦ğŸ¤", img: "images/75.png" },
            { id: 76, group: "pentacles", name: "PENTACLES QUEEN", desc: "è±Šã‹ãªåŒ…å®¹åŠ›ã§æ„›ã‚’è‚²ã‚€ğŸŒ¼å¿ƒã‹ã‚‰ã®å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹å­˜åœ¨ã¨ã—ã¦ã€æ‹ã‚’å®ˆã‚ŠæŠœã“ã†ğŸ’–", img: "images/76.png" },
            { id: 77, group: "pentacles", name: "PENTACLES KING", desc: "æºã‚‹ããªã„å®‰å®šã¨ä¿¡é ¼ğŸ‘‘çµŒæ¸ˆçš„ã«ã‚‚ç²¾ç¥çš„ã«ã‚‚ã€é ¼ã‚Œã‚‹ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®è‰¯ç¸âœ¨", img: "images/77.png" },
            { id: 78, group: "secret", name: "ULTIMATE", desc: "ã‚ãªãŸã®æ‹ã¯ä»Šã€æœ€çµ‚æ®µéšã®æ‰‰ã®å‰ã«ã„ã¾ã™ğŸ’ã‚‚ã†ç–‘ã‚ãªãã¦å¤§ä¸ˆå¤«ã€‚ã“ã‚Œã¾ã§ã®æƒ³ã„ã¨é¸æŠã¯ã™ã¹ã¦æ­£è§£âœ¨è¦šæ‚Ÿã‚’æ±ºã‚ã¦å—ã‘å–ã‚‹ã“ã¨ã§ã€é‹å‘½ã®æ„›ãŒå®Œå…¨ã«å½¢ã«ãªã‚Šã¾ã™ğŸŒˆğŸ’–", img: "images/78.png" }
        ];

        let coins = parseInt(localStorage.getItem('miruCoins') || '2');
        let lastAccess = localStorage.getItem('lastAccessDate');
        let unlockedCards = JSON.parse(localStorage.getItem('unlockedCards') || '[]');
        let isMuted = true;
        let isCollectionOpen = false;
        let isGachaRunning = false;
        const bgm = document.getElementById('bgm');
        bgm.volume = 0.5;

        // ä»¥é™ã€æ—¢å­˜ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¶™ç¶š... (çœç•¥ã›ãšã«å‹•ä½œã™ã‚‹ã‚ˆã†ã«è¨˜è¿°)
        function updateUI() {
            const today = new Date().toLocaleDateString();
            if (lastAccess !== today && coins < 2) {
                coins = 2; 
                lastAccess = today;
                localStorage.setItem('lastAccessDate', today);
                localStorage.setItem('miruCoins', coins);
            }
            document.getElementById('coin-count').innerText = coins;
            const btn = document.getElementById('play-btn');
            const limitInfo = document.getElementById('limit-info');
            const premiumInfo = document.getElementById('premium-info');
            const timerCon = document.getElementById('timer-container');

            if (coins <= 0) {
                btn.disabled = true;
                limitInfo.style.display = "block";
                document.getElementById('limit-text').innerText = "";
                premiumInfo.style.display = "block";
                timerCon.style.display = "block";
            } else {
                btn.disabled = false;
                limitInfo.style.display = "block";
                premiumInfo.style.display = "none";
                document.getElementById('limit-text').innerText = `ã‚ã¨ ${coins} å›å ãˆã‚‹ã‚ˆâœ¨`;
                timerCon.style.display = "none";
            }

            document.getElementById('collection-count').innerText = `${unlockedCards.length}/79 ç™»éŒ²æ¸ˆã¿`;
            const doorBtn = document.getElementById('door-btn');
            if(unlockedCards.length >= 79) {
                doorBtn.classList.add('active');
                doorBtn.disabled = false;
            } else {
                doorBtn.classList.remove('active');
                doorBtn.disabled = true;
            }
        }

        // åˆæœŸåŒ–å®Ÿè¡Œ
        updateUI();

        // ä¾¿å®œä¸Šã€å¿…è¦ãªé–¢æ•°å®šç¾©ã‚’è£œå®Œï¼ˆã‚ãªãŸã®æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç¶šãï¼‰
        function toggleMusic() {
            isMuted = !isMuted;
            const toggleBtn = document.getElementById('music-toggle');
            if (isMuted) { bgm.pause(); toggleBtn.innerText = "ğŸ”‡"; } 
            else { bgm.play().catch(() => {}); toggleBtn.innerText = "ğŸµ"; }
        }
setInterval(() => {
            const now = new Date();
            const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
            const diff = tomorrow - now;
            const h = Math.floor(diff / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            const countdownEl = document.getElementById('countdown');
            if(countdownEl) countdownEl.innerText = `${h}æ™‚é–“${m}åˆ†${s}ç§’`;
        }, 1000);

        function typeWriter(text, elementId, speed = 40) {
            let i = 0;
            const element = document.getElementById(elementId);
            element.innerHTML = "";
            return new Promise(resolve => {
                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else { resolve(); }
                }
                type();
            });
        }

        async function playGacha() {
            if (coins <= 0) return;
            isGachaRunning = true;
            if (!isMuted) bgm.play();
            coins--; 
            localStorage.setItem('miruCoins', coins);
            updateUI();

            const machine = document.getElementById('gacha-machine');
            const cap1 = document.getElementById('capsule1');
            const cap2 = document.getElementById('capsule2');
            [cap1, cap2].forEach(c => {
                c.classList.remove('pop-out1', 'pop-out2', 'capsule-split');
                c.style.setProperty('--cap-color', ['#ff8aae', '#a2d2ff', '#ffd700', '#b19cd9'][Math.floor(Math.random() * 4)]);
            });

            machine.style.animation = "shake 0.1s infinite";
            setTimeout(() => {
                machine.style.animation = "none";
                cap1.classList.add('pop-out1');
                setTimeout(() => cap2.classList.add('pop-out2'), 300);
            }, 600);

            setTimeout(async () => {
                cap1.classList.add('capsule-split');
                cap2.classList.add('capsule-split');

                const pool = tarotData.filter(d => d.group !== "secret");
                const card1 = pool[Math.floor(Math.random() * pool.length)];
                
                let card2;
                if (Math.random() < 0.05) { card2 = tarotData.find(d => d.group === "secret"); } 
                else {
                    card2 = pool[Math.floor(Math.random() * pool.length)];
                    while(card1.id === card2.id) card2 = pool[Math.floor(Math.random() * pool.length)];
                }

                saveToCollection(card1.id);
                saveToCollection(card2.id);

                document.getElementById('card-box1').innerHTML = `<img src="${card1.img}">`;
                document.getElementById('card-box2').innerHTML = `<img src="${card2.img}">`;
                document.getElementById('miruko-msg').innerHTML = "";
                document.getElementById('miruko-status').innerText = "ãƒŸãƒ«ã‚³ãŒå ã„ä¸­â€¦ğŸ¦„âœ¨";
                document.getElementById('close-res-btn').style.display = "none";
                document.getElementById('result-overlay').style.display = "flex";
                
                setTimeout(() => {
                    document.getElementById('card-box1').classList.add('active');
                    document.getElementById('card-box2').classList.add('active');
                    document.getElementById('detail').classList.add('active');
                }, 100);

                // ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’é¸æŠ
                const randomAdvice = loveAdvices[Math.floor(Math.random() * loveAdvices.length)];

                const finalMsg = `å¼•ã„ãŸã‚«ãƒ¼ãƒ‰ã¯ã€Œ${card1.name}ã€ã¨ã€Œ${card2.name}ã€ã ã‚ˆï¼\n\nã€ä»Šã®ã‚ãªãŸã¸ã€‘\n${card1.desc}\n\nã€æœªæ¥ã¸ã®ãƒ’ãƒ³ãƒˆã€‘\n${card2.desc}\n\nã€ãƒŸãƒ«ã‚³ã‹ã‚‰ã®æ‹æ„›ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€‘\n${randomAdvice}\n\nâ€»ãšã‹ã‚“ã«ç™»éŒ²ã•ã‚ŒãŸã‚ˆï¼å³ä¸‹ã®æœ¬ã‹ã‚‰ãƒã‚§ãƒƒã‚¯ã—ã¦ã­âœ¨`;
                
                await new Promise(r => setTimeout(r, 1500)); 
                document.getElementById('miruko-status').innerText = "ãƒŸãƒ«ã‚³ã®å ã„çµæœğŸ¦„ğŸ’";
                await typeWriter(finalMsg, 'miruko-msg', 35);
                document.getElementById('close-res-btn').style.display = "block";
            }, 2000);
        }

        function closeResult() { 
            document.getElementById('result-overlay').style.display = "none"; 
            document.querySelectorAll('.card-reveal, #detail').forEach(el => el.classList.remove('active')); 
            isGachaRunning = false;
        }

        function saveToCollection(id) {
            if (!unlockedCards.includes(id)) {
                unlockedCards.push(id);
                localStorage.setItem('unlockedCards', JSON.stringify(unlockedCards));
            }
        }

        function openCollection() {
            isCollectionOpen = true;
            updateUI();
            document.getElementById('collection-overlay').style.display = 'flex';
            filterCollection('all', document.querySelector('.nav-btn'));
            if (!isMuted) bgm.play();
        }

        function closeCollection() {
            isCollectionOpen = false;
            document.getElementById('collection-overlay').style.display = 'none';
        }

        function filterCollection(group, btn) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const grid = document.getElementById('collection-grid');
            grid.innerHTML = "";

            tarotData.forEach(card => {
                if (group !== 'all' && card.group !== group) return;
                const isUnlocked = unlockedCards.includes(card.id);
                const item = document.createElement('div');
                item.className = `collection-item ${isUnlocked ? 'unlocked' : ''}`;
                item.innerHTML = `<img src="${card.img}">`;
                if (isUnlocked) {
                    item.onclick = () => open3D(card.img);
                }
                grid.appendChild(item);
            });
        }

        // 3Dè¡¨ç¤ºæ©Ÿèƒ½
        let startX, startY, currentX = 0, currentY = 0;
        function open3D(imgSrc) {
            const overlay = document.getElementById('card-3d-overlay');
            const img = document.getElementById('card-3d-img');
            const container = document.getElementById('card-3d-container');
            img.src = imgSrc;
            container.style.transform = "rotateY(0deg) rotateX(0deg)";
            currentX = 0; currentY = 0;
            overlay.style.display = 'flex';

            overlay.ontouchstart = (e) => {
                startX = e.touches[0].pageX;
                startY = e.touches[0].pageY;
            };
            overlay.ontouchmove = (e) => {
                const dx = e.touches[0].pageX - startX;
                const dy = e.touches[0].pageY - startY;
                currentX += dx * 0.5;
                currentY -= dy * 0.5;
                container.style.transform = `rotateY(${currentX}deg) rotateX(${currentY}deg)`;
                startX = e.touches[0].pageX;
                startY = e.touches[0].pageY;
            };
        }
        function close3D() { document.getElementById('card-3d-overlay').style.display = 'none'; }

        function openSecret() {
            if(unlockedCards.length >= 79) {
                document.getElementById('secret-modal').style.display = 'flex';
            }
        }




// --- å›³é‘‘ãƒ‡ãƒ¼ã‚¿ã®å¼•ãç¶™ãæ©Ÿèƒ½ï¼ˆã¡ã‚‡ã£ã¨ã ã‘æš—å·åŒ–ç‰ˆï¼‰ ---

// 1. åˆè¨€è‘‰ã‚’ç™ºè¡Œã™ã‚‹ï¼ˆæ•°å­—ã‚’ã‚ã¡ã‚ƒãã¡ã‚ƒã«ã™ã‚‹ï¼‰
function exportData() {
    if (unlockedCards.length === 0) {
        alert("ğŸ¦„ã€Œã¾ã å›³é‘‘ã«ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã‚ˆï¼ã€");
        return;
    }

    // æ•°å­—ã‚’æ–‡å­—ã«å¤‰æ›ã—ã¦ã€btoa(Base64)ã¨ã„ã†æ–¹å¼ã§æš—å·ã£ã½ãè¦‹ã›ã‚‹
    const rawData = unlockedCards.join(',');
    const encodedData = btoa(rawData); // ã“ã‚Œã§ "MSwyLDMs..." ã¿ãŸã„ãªè¬ã®æ–‡å­—åˆ—ã«ãªã‚Šã¾ã™
    
    const finalCode = "MIRUKO-" + encodedData; // é ­ã«ãƒŸãƒ«ã‚³ã®åå‰ã‚’ã¤ã‘ã¦å¯æ„›ãï¼

    navigator.clipboard.writeText(finalCode).then(() => {
        alert("ğŸ¦„ã€Œé­”æ³•ã®åˆè¨€è‘‰ã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆï¼ãƒ¡ãƒ¢å¸³ãªã©ã«ãƒšãƒ¼ã‚¹ãƒˆã—ã¦å¤§åˆ‡ã«ä¿ç®¡ã—ã¦ã­âœ¨ã€\n\nåˆè¨€è‘‰: " + finalCode);
    }).catch(err => {
        prompt("ğŸ¦„ã€Œé­”æ³•ã®åˆè¨€è‘‰ã ã‚ˆï¼ã“ã‚Œã‚’ä¿å­˜ã—ã¦ã­ï¼š", finalCode);
    });
}

// 2. åˆè¨€è‘‰ã‚’èª­ã¿è¾¼ã‚€ï¼ˆæš—å·ã‚’è§£ãï¼‰
function importData() {
    const code = prompt("ğŸ¦„ã€Œä¿å­˜ã—ã¦ãŠã„ãŸé­”æ³•ã®åˆè¨€è‘‰ã‚’å…¥åŠ›ã—ã¦ã­ï¼š");
    
    if (code && code.startsWith("MIRUKO-")) {
        try {
            // "MIRUKO-" ã‚’å–ã‚Šé™¤ã„ã¦ã€æš—å·ã‚’å…ƒã«æˆ»ã™
            const encodedPart = code.replace("MIRUKO-", "");
            const decodedData = atob(encodedPart); // æš—å·è§£é™¤ï¼
            const importedCards = decodedData.split(',').map(num => parseInt(num));

            if (confirm("ğŸ¦„ã€Œå›³é‘‘ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒã—ã¦ã‚‚ã„ã„ï¼Ÿä»Šã®ãƒ‡ãƒ¼ã‚¿ã¯æ¶ˆãˆã¡ã‚ƒã†ã‚ˆï¼ã€")) {
                unlockedCards = [...new Set(importedCards)];
                localStorage.setItem('unlockedCards', JSON.stringify(unlockedCards));
                alert("ğŸ¦„ã€Œé­”æ³•ã®æ‰‰ãŒç¹‹ãŒã£ãŸã‚ˆï¼å›³é‘‘ã‚’å¾©å…ƒã—ãŸã‚ˆâœ¨ã€");
                location.reload();
            }
        } catch (e) {
            alert("ğŸ¦„ã€Œã†ãƒ¼ã‚“ã€ãã®åˆè¨€è‘‰ã¯é­”æ³•ãŒè§£ã‘ã¡ã‚ƒã£ã¦ã‚‹ã¿ãŸã„ã€‚ã‚‚ã†ä¸€åº¦ç¢ºèªã—ã¦ã¿ã¦ã­ã€‚ã€");
        }
    } else if (code) {
        alert("ğŸ¦„ã€Œãã‚Œã¯æ­£ã—ã„åˆè¨€è‘‰ã˜ã‚ƒãªã„ã¿ãŸã„...ã€");
    }
}


        window.onload = updateUI;
        // ä»¥ä¸‹ã€ã‚¬ãƒãƒ£å‡¦ç†ãªã©ã¯ã‚ãªãŸã®æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾ä½¿ç”¨ã—ã¦ãã ã•ã„
    </script>
</body>
</html>
